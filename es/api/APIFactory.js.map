{"version":3,"sources":["../../src/api/APIFactory.js"],"names":["Cache","ChunkedUploadAPI","PlainUploadAPI","FolderAPI","FileAPI","WebLinkAPI","SearchAPI","RecentsAPI","VersionsAPI","CommentsAPI","TasksNewAPI","TaskCollaboratorsAPI","TaskLinksAPI","ThreadedCommentsAPI","FileAccessStatsAPI","FileActivitiesAPI","MarkerBasedGroupsAPI","MarkerBasedUsersAPI","GroupsAPI","UsersAPI","MetadataAPI","FileCollaboratorsAPI","FileCollaborationsAPI","FolderCollaborationsAPI","CollaborationsAPI","FeedAPI","AppIntegrationsAPI","AnnotationsAPI","OpenWithAPI","MetadataQueryAPI","BoxEditAPI","DEFAULT_HOSTNAME_API","DEFAULT_HOSTNAME_UPLOAD","TYPE_FOLDER","TYPE_FILE","TYPE_WEBLINK","APIFactory","options","apiHost","uploadHost","cache","language","destroyCache","fileAPI","destroy","weblinkAPI","plainUploadAPI","chunkedUploadAPI","folderAPI","searchAPI","recentsAPI","versionsAPI","fileAccessStatsAPI","fileActivitiesAPI","tasksNewAPI","taskCollaboratorsAPI","taskLinksAPI","commentsAPI","threadedCommentsAPI","markerBasedGroupsAPI","markerBasedUsersAPI","groupsAPI","usersAPI","metadataAPI","fileCollaboratorsAPI","fileCollaborationsAPI","folderCollaborationsAPI","collaborationsAPI","appIntegrationsAPI","metadataQueryAPI","openWithAPI","annotationsAPI","type","api","getFolderAPI","getFileAPI","getWebLinkAPI","Error","shouldDestroy","feedItemsAPI","boxEditAPI"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Main entry point for the box api\n * @author Box\n */\n\nimport Cache from '../utils/Cache';\nimport ChunkedUploadAPI from './uploads/MultiputUpload';\nimport PlainUploadAPI from './uploads/PlainUpload';\nimport FolderAPI from './Folder';\nimport FileAPI from './File';\nimport WebLinkAPI from './WebLink';\nimport SearchAPI from './Search';\nimport RecentsAPI from './Recents';\nimport VersionsAPI from './Versions';\nimport CommentsAPI from './Comments';\nimport TasksNewAPI from './tasks/TasksNew';\nimport TaskCollaboratorsAPI from './tasks/TaskCollaborators';\nimport TaskLinksAPI from './tasks/TaskLinks';\nimport ThreadedCommentsAPI from './ThreadedComments';\nimport FileAccessStatsAPI from './FileAccessStats';\nimport FileActivitiesAPI from './FileActivities';\nimport MarkerBasedGroupsAPI from './MarkerBasedGroups';\nimport MarkerBasedUsersAPI from './MarkerBasedUsers';\nimport GroupsAPI from './Groups';\nimport UsersAPI from './Users';\nimport MetadataAPI from './Metadata';\nimport FileCollaboratorsAPI from './FileCollaborators';\nimport FileCollaborationsAPI from './FileCollaborations';\nimport FolderCollaborationsAPI from './FolderCollaborations';\nimport CollaborationsAPI from './Collaborations';\nimport FeedAPI from './Feed';\nimport AppIntegrationsAPI from './AppIntegrations';\nimport AnnotationsAPI from './Annotations';\nimport OpenWithAPI from './OpenWith';\nimport MetadataQueryAPI from './MetadataQuery';\nimport BoxEditAPI from './box-edit';\nimport { DEFAULT_HOSTNAME_API, DEFAULT_HOSTNAME_UPLOAD, TYPE_FOLDER, TYPE_FILE, TYPE_WEBLINK } from '../constants';\nimport type { ItemType } from '../common/types/core';\nimport type { APIOptions } from '../common/types/api';\nimport type APICache from '../utils/Cache';\n\ntype ItemAPI = FolderAPI | FileAPI | WebLinkAPI;\n\nclass APIFactory {\n    /**\n     * @property {*}\n     */\n    options: APIOptions;\n\n    /**\n     * @property {FileAPI}\n     */\n    fileAPI: FileAPI;\n\n    /**\n     * @property {WebLink}\n     */\n    weblinkAPI: WebLinkAPI;\n\n    /**\n     * @property {FolderAPI}\n     */\n    folderAPI: FolderAPI;\n\n    /**\n     * @property {PlainUploadAPI}\n     */\n    plainUploadAPI: PlainUploadAPI;\n\n    /**\n     * @property {ChunkedUploadAPI}\n     */\n    chunkedUploadAPI: ChunkedUploadAPI;\n\n    /**\n     * @property {SearchAPI}\n     */\n    searchAPI: SearchAPI;\n\n    /**\n     * @property {RecentsAPI}\n     */\n    recentsAPI: RecentsAPI;\n\n    /**\n     * @property {VersionsAPI}\n     */\n    versionsAPI: VersionsAPI;\n\n    /**\n     * @property {CommentsAPI}\n     */\n    commentsAPI: CommentsAPI;\n\n    /**\n     * @property {ThreadedCommentsAPI}\n     */\n    threadedCommentsAPI: ThreadedCommentsAPI;\n\n    /**\n     * @property {TasksNewAPI}\n     */\n    tasksNewAPI: TasksNewAPI;\n\n    /**\n     * @property {TaskCollaboratorsAPI}\n     */\n    taskCollaboratorsAPI: TaskCollaboratorsAPI;\n\n    /**\n     * @property {TaskLinksAPI}\n     */\n    taskLinksAPI: TaskLinksAPI;\n\n    /*\n     * @property {FileAccessStatsAPI}\n     */\n    fileAccessStatsAPI: FileAccessStatsAPI;\n\n    /*\n     * @property {FileActivitiesAPI}\n     */\n    fileActivitiesAPI: FileActivitiesAPI;\n\n    /*\n     * @property {MarkerBasedGroupsAPI}\n     */\n    markerBasedGroupsAPI: MarkerBasedGroupsAPI;\n\n    /*\n     * @property {MarkerBasedUsersAPI}\n     */\n    markerBasedUsersAPI: MarkerBasedUsersAPI;\n\n    /**\n     * @property {GroupsAPI}\n     */\n    groupsAPI: GroupsAPI;\n\n    /*\n     * @property {UsersAPI}\n     */\n    usersAPI: UsersAPI;\n\n    /*\n     * @property {MetadataAPI}\n     */\n    metadataAPI: MetadataAPI;\n\n    /**\n     * @property {FileCollaboratorsAPI}\n     */\n    fileCollaboratorsAPI: FileCollaboratorsAPI;\n\n    /**\n     * @property {FileCollaborationsAPI}\n     */\n    fileCollaborationsAPI: FileCollaborationsAPI;\n\n    /**\n     * @property {FolderCollaborationsAPI}\n     */\n    folderCollaborationsAPI: FolderCollaborationsAPI;\n\n    /**\n     * @property {CollaborationsAPI}\n     */\n    collaborationsAPI: CollaborationsAPI;\n\n    /**\n     * @property {FeedAPI}\n     */\n    feedItemsAPI: FeedAPI;\n\n    /**\n     * @property {OpenWithAPI}\n     */\n    openWithAPI: OpenWithAPI;\n\n    /**\n     * @property {AppIntegrationsAPI}\n     */\n    appIntegrationsAPI: AppIntegrationsAPI;\n\n    /**\n     * @property {MetadataQueryAPI}\n     */\n    metadataQueryAPI: MetadataQueryAPI;\n\n    /** @property {BoxEditAPI}\n     *\n     */\n    boxEditAPI: BoxEditAPI;\n\n    /**\n     * @property {AnnotationsAPI}\n     */\n    annotationsAPI: AnnotationsAPI;\n\n    /**\n     * [constructor]\n     *\n     * @param {Object} options\n     * @param {string} options.id - item id\n     * @param {string|function} options.token - Auth token\n     * @param {string} [options.sharedLink] - Shared link\n     * @param {string} [options.sharedLinkPassword] - Shared link password\n     * @param {string} [options.apiHost] - Api host\n     * @param {string} [options.uploadHost] - Upload host name\n     * @return {API} Api instance\n     */\n    constructor(options: APIOptions) {\n        this.options = {\n            ...options,\n            apiHost: options.apiHost || DEFAULT_HOSTNAME_API,\n            uploadHost: options.uploadHost || DEFAULT_HOSTNAME_UPLOAD,\n            cache: options.cache || new Cache(),\n            language: options.language,\n        };\n    }\n\n    /**\n     * [destructor]\n     *\n     * @param {boolean} destroyCache - true to destroy cache\n     * @return {void}\n     */\n    destroy(destroyCache: boolean = false) {\n        if (this.fileAPI) {\n            this.fileAPI.destroy();\n            delete this.fileAPI;\n        }\n\n        if (this.weblinkAPI) {\n            this.weblinkAPI.destroy();\n            delete this.weblinkAPI;\n        }\n\n        if (this.plainUploadAPI) {\n            this.plainUploadAPI.destroy();\n            delete this.plainUploadAPI;\n        }\n\n        if (this.chunkedUploadAPI) {\n            this.chunkedUploadAPI.destroy();\n            delete this.chunkedUploadAPI;\n        }\n\n        if (this.folderAPI) {\n            this.folderAPI.destroy();\n            delete this.folderAPI;\n        }\n\n        if (this.searchAPI) {\n            this.searchAPI.destroy();\n            delete this.searchAPI;\n        }\n\n        if (this.recentsAPI) {\n            this.recentsAPI.destroy();\n            delete this.recentsAPI;\n        }\n\n        if (this.versionsAPI) {\n            this.versionsAPI.destroy();\n            delete this.versionsAPI;\n        }\n\n        if (this.fileAccessStatsAPI) {\n            this.fileAccessStatsAPI.destroy();\n            delete this.fileAccessStatsAPI;\n        }\n\n        if (this.fileActivitiesAPI) {\n            this.fileActivitiesAPI.destroy();\n            delete this.fileActivitiesAPI;\n        }\n\n        if (this.tasksNewAPI) {\n            this.tasksNewAPI.destroy();\n            delete this.tasksNewAPI;\n        }\n\n        if (this.taskCollaboratorsAPI) {\n            this.taskCollaboratorsAPI.destroy();\n            delete this.taskCollaboratorsAPI;\n        }\n\n        if (this.taskLinksAPI) {\n            this.taskLinksAPI.destroy();\n            delete this.taskLinksAPI;\n        }\n\n        if (this.commentsAPI) {\n            this.commentsAPI.destroy();\n            delete this.commentsAPI;\n        }\n\n        if (this.threadedCommentsAPI) {\n            this.threadedCommentsAPI.destroy();\n            delete this.threadedCommentsAPI;\n        }\n\n        if (this.markerBasedGroupsAPI) {\n            this.markerBasedGroupsAPI.destroy();\n            delete this.markerBasedGroupsAPI;\n        }\n\n        if (this.markerBasedUsersAPI) {\n            this.markerBasedUsersAPI.destroy();\n            delete this.markerBasedUsersAPI;\n        }\n\n        if (this.groupsAPI) {\n            this.groupsAPI.destroy();\n            delete this.groupsAPI;\n        }\n\n        if (this.usersAPI) {\n            this.usersAPI.destroy();\n            delete this.usersAPI;\n        }\n\n        if (this.metadataAPI) {\n            this.metadataAPI.destroy();\n            delete this.metadataAPI;\n        }\n\n        if (this.fileCollaboratorsAPI) {\n            this.fileCollaboratorsAPI.destroy();\n            delete this.fileCollaboratorsAPI;\n        }\n\n        if (this.fileCollaborationsAPI) {\n            this.fileCollaborationsAPI.destroy();\n            delete this.fileCollaborationsAPI;\n        }\n\n        if (this.folderCollaborationsAPI) {\n            this.folderCollaborationsAPI.destroy();\n            delete this.folderCollaborationsAPI;\n        }\n\n        if (this.collaborationsAPI) {\n            this.collaborationsAPI.destroy();\n            delete this.collaborationsAPI;\n        }\n\n        if (this.appIntegrationsAPI) {\n            this.appIntegrationsAPI.destroy();\n            delete this.appIntegrationsAPI;\n        }\n\n        if (this.metadataQueryAPI) {\n            this.metadataQueryAPI.destroy();\n            delete this.metadataQueryAPI;\n        }\n\n        if (this.openWithAPI) {\n            this.openWithAPI.destroy();\n            delete this.openWithAPI;\n        }\n\n        if (this.annotationsAPI) {\n            this.annotationsAPI.destroy();\n            delete this.annotationsAPI;\n        }\n\n        if (destroyCache) {\n            this.options.cache = new Cache();\n        }\n    }\n\n    /**\n     * Gets the cache instance\n     *\n     * @return {Cache} cache instance\n     */\n    getCache(): APICache {\n        return ((this.options.cache: any): APICache);\n    }\n\n    /**\n     * Returns the API based on type of item\n     *\n     * @private\n     * @param {String} type - item type\n     * @return {ItemAPI} api\n     */\n    getAPI(type: ItemType): ItemAPI {\n        let api: ItemAPI;\n\n        switch (type) {\n            case TYPE_FOLDER:\n                api = this.getFolderAPI();\n                break;\n            case TYPE_FILE:\n                api = this.getFileAPI();\n                break;\n            case TYPE_WEBLINK:\n                api = this.getWebLinkAPI();\n                break;\n            default:\n                throw new Error('Unknown Type!');\n        }\n\n        return api;\n    }\n\n    /**\n     * API for file\n     *\n     * @return {FileAPI} FileAPI instance\n     */\n    getFileAPI(shouldDestroy: boolean = true): FileAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n        this.fileAPI = new FileAPI(this.options);\n        return this.fileAPI;\n    }\n\n    /**\n     * API for web links\n     *\n     * @return {WebLinkAPI} WebLinkAPI instance\n     */\n    getWebLinkAPI(): WebLinkAPI {\n        this.destroy();\n        this.weblinkAPI = new WebLinkAPI(this.options);\n        return this.weblinkAPI;\n    }\n\n    /**\n     * API for plain uploads\n     *\n     * @return {UploadAPI} UploadAPI instance\n     */\n    getPlainUploadAPI(): PlainUploadAPI {\n        this.destroy();\n        this.plainUploadAPI = new PlainUploadAPI(this.options);\n        return this.plainUploadAPI;\n    }\n\n    /**\n     * API for chunked uploads\n     *\n     * @return {UploadAPI} UploadAPI instance\n     */\n    getChunkedUploadAPI(): ChunkedUploadAPI {\n        this.destroy();\n        this.chunkedUploadAPI = new ChunkedUploadAPI(this.options);\n        return this.chunkedUploadAPI;\n    }\n\n    /**\n     * API for folder\n     *\n     * @return {FolderAPI} FolderAPI instance\n     */\n    getFolderAPI(): FolderAPI {\n        this.destroy();\n        this.folderAPI = new FolderAPI(this.options);\n        return this.folderAPI;\n    }\n\n    /**\n     * API for search\n     *\n     * @return {SearchAPI} SearchAPI instance\n     */\n    getSearchAPI(): SearchAPI {\n        this.destroy();\n        this.searchAPI = new SearchAPI(this.options);\n        return this.searchAPI;\n    }\n\n    /**\n     * API for recents\n     *\n     * @return {RecentsAPI} RecentsAPI instance\n     */\n    getRecentsAPI(): RecentsAPI {\n        this.destroy();\n        this.recentsAPI = new RecentsAPI(this.options);\n        return this.recentsAPI;\n    }\n\n    /**\n     * API for metadata\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {MetadataAPI} MetadataAPI instance\n     */\n    getMetadataAPI(shouldDestroy: boolean): MetadataAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.metadataAPI = new MetadataAPI(this.options);\n        return this.metadataAPI;\n    }\n\n    /**\n     * API for versions\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {VersionsAPI} VersionsAPI instance\n     */\n    getVersionsAPI(shouldDestroy: boolean): VersionsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.versionsAPI = new VersionsAPI(this.options);\n        return this.versionsAPI;\n    }\n\n    /**\n     * API for comments\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {CommentsAPI} CommentsAPI instance\n     */\n    getCommentsAPI(shouldDestroy: boolean): CommentsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.commentsAPI = new CommentsAPI(this.options);\n        return this.commentsAPI;\n    }\n\n    /**\n     * API for threaded comments\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {ThreadedCommentsAPI} ThreadedCommentsAPI instance\n     */\n    getThreadedCommentsAPI(shouldDestroy: boolean): ThreadedCommentsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.threadedCommentsAPI = new ThreadedCommentsAPI(this.options);\n        return this.threadedCommentsAPI;\n    }\n\n    /**\n     * API for tasks\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {TasksAPI} TaskAssignmentsAPI instance\n     */\n    getTasksNewAPI(shouldDestroy: boolean): TasksNewAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.tasksNewAPI = new TasksNewAPI(this.options);\n        return this.tasksNewAPI;\n    }\n\n    /**\n     * API for taskCollaborators\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {TaskCollaboratorsAPI} TaskCollaboratorsAPI instance\n     */\n    getTaskCollaboratorsAPI(shouldDestroy: boolean): TaskCollaboratorsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.taskCollaboratorsAPI = new TaskCollaboratorsAPI(this.options);\n        return this.taskCollaboratorsAPI;\n    }\n\n    /**\n     * API for taskLinks\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {TasksAPI} TaskLinksAPI instance\n     */\n    getTaskLinksAPI(shouldDestroy: boolean): TaskLinksAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.taskLinksAPI = new TaskLinksAPI(this.options);\n        return this.taskLinksAPI;\n    }\n\n    /**\n     * API for file access stats\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FileAccessStatsAPI} FileAccessStatsAPI instance\n     */\n    getFileAccessStatsAPI(shouldDestroy: boolean): FileAccessStatsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.fileAccessStatsAPI = new FileAccessStatsAPI(this.options);\n        return this.fileAccessStatsAPI;\n    }\n\n    /**\n     * API for file access stats\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FileActivitiesAPI} FileActivitiesAPI instance\n     */\n    getFileActivitiesAPI(shouldDestroy: boolean): FileActivitiesAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.fileActivitiesAPI = new FileActivitiesAPI(this.options);\n        return this.fileActivitiesAPI;\n    }\n\n    /**\n     * API for file collaborators\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FileCollaboratorsAPI} FileCollaboratorsAPI instance\n     */\n    getFileCollaboratorsAPI(shouldDestroy: boolean): FileCollaboratorsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.fileCollaboratorsAPI = new FileCollaboratorsAPI(this.options);\n        return this.fileCollaboratorsAPI;\n    }\n\n    /**\n     * API for file collaborations\n     *\n     * This is different from the FileCollaboratorsAPI! See ./FileCollaborations for more information.\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FileCollaborationsAPI} FileCollaborationsAPI instance\n     */\n    getFileCollaborationsAPI(shouldDestroy: boolean): FileCollaborationsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.fileCollaborationsAPI = new FileCollaborationsAPI(this.options);\n        return this.fileCollaborationsAPI;\n    }\n\n    /**\n     * API for folder collaborations\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FolderCollaborationsAPI} FolderCollaborationsAPI instance\n     */\n    getFolderCollaborationsAPI(shouldDestroy: boolean): FolderCollaborationsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.folderCollaborationsAPI = new FolderCollaborationsAPI(this.options);\n        return this.folderCollaborationsAPI;\n    }\n\n    /**\n     * API for collaborations\n     *\n     * This is different from the other collaboration/collaborator APIs!\n     * See ./Collaborations for more information.\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {CollaborationsAPI} CollaborationsAPI instance\n     */\n    getCollaborationsAPI(shouldDestroy: boolean): CollaborationsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.collaborationsAPI = new CollaborationsAPI(this.options);\n        return this.collaborationsAPI;\n    }\n\n    /**\n     * API for Groups (marker-based paging)\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {MarkerBasedGroupsAPI} MarkerBasedGroupsAPI instance\n     */\n    getMarkerBasedGroupsAPI(shouldDestroy: boolean): MarkerBasedGroupsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.markerBasedGroupsAPI = new MarkerBasedGroupsAPI(this.options);\n        return this.markerBasedGroupsAPI;\n    }\n\n    /**\n     * API for Users (marker-based paging)\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {MarkerBasedUsersAPI} MarkerBasedUsersAPI instance\n     */\n    getMarkerBasedUsersAPI(shouldDestroy: boolean): MarkerBasedUsersAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.markerBasedUsersAPI = new MarkerBasedUsersAPI(this.options);\n        return this.markerBasedUsersAPI;\n    }\n\n    /**\n     * API for Groups (offset-based paging)\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {GroupsAPI} GroupsAPI instance\n     */\n    getGroupsAPI(shouldDestroy: boolean): GroupsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.groupsAPI = new GroupsAPI(this.options);\n        return this.groupsAPI;\n    }\n\n    /**\n     * API for Users (offset-based paging)\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {UsersAPI} UsersAPI instance\n     */\n    getUsersAPI(shouldDestroy: boolean): UsersAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.usersAPI = new UsersAPI(this.options);\n        return this.usersAPI;\n    }\n\n    /**\n     * API for Feed Items\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {FeedAPI} FeedAPI instance\n     */\n    getFeedAPI(shouldDestroy: boolean): FeedAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.feedItemsAPI = new FeedAPI(this.options);\n        return this.feedItemsAPI;\n    }\n\n    /**\n     * API for Open With\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {OpenWithAPI} OpenWithAPI instance\n     */\n    getOpenWithAPI(shouldDestroy: boolean): OpenWithAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.openWithAPI = new OpenWithAPI(this.options);\n        return this.openWithAPI;\n    }\n\n    /**\n     * API for the App Integrations endpoint\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {AppIntegrationsAPI} AppIntegrationsAPI instance\n     */\n    getAppIntegrationsAPI(shouldDestroy: boolean): AppIntegrationsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.appIntegrationsAPI = new AppIntegrationsAPI(this.options);\n        return this.appIntegrationsAPI;\n    }\n\n    /**\n     * API for Metadata Query\n     *\n     * @param {boolean} shouldDestroy - true if the factory should destroy before returning the call\n     * @return {MetadataQuery} MetadataQuery instance\n     */\n    getMetadataQueryAPI(shouldDestroy: boolean = false): MetadataQueryAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.metadataQueryAPI = new MetadataQueryAPI(this.options);\n        return this.metadataQueryAPI;\n    }\n\n    /**\n     * API for Box Edit\n     *\n     * @return {BoxEditAPI} BoxEditAPI instance\n     */\n    getBoxEditAPI(): BoxEditAPI {\n        this.boxEditAPI = new BoxEditAPI();\n        return this.boxEditAPI;\n    }\n\n    /**\n     * API for Annotations\n     *\n     * @return {AnnotationsAPI} AnnotationsAPI instance\n     */\n    getAnnotationsAPI(shouldDestroy: boolean): AnnotationsAPI {\n        if (shouldDestroy) {\n            this.destroy();\n        }\n\n        this.annotationsAPI = new AnnotationsAPI(this.options);\n        return this.annotationsAPI;\n    }\n}\n\nexport default APIFactory;\n"],"file":"APIFactory.js"}