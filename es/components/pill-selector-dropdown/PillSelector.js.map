{"version":3,"sources":["../../../src/components/pill-selector-dropdown/PillSelector.js"],"names":["React","classNames","uniqueId","List","Tooltip","KEYS","RoundPill","Pill","SuggestedPillsRow","stopDefaultEvent","event","preventDefault","stopPropagation","PillSelectorBase","isFocused","selectedIndex","selectedOptions","props","size","length","key","map","option","inputEl","focus","setState","inputValue","value","numPills","getNumSelected","state","backspace","index","resetSelectedIndex","onRemove","selectedOption","get","arrowLeft","Math","max","hiddenEl","arrowRight","allowInvalidPills","className","disabled","error","errorTooltipPosition","getPillClassName","getPillImageUrl","inputProps","onInput","onSuggestedPillAdd","placeholder","innerRef","showAvatars","showRoundedPills","suggestedPillsData","suggestedPillsFilter","suggestedPillsTitle","validator","rest","suggestedPillsEnabled","hasError","classes","ariaAttrs","errorMessageID","handleBlur","handleClick","handleFocus","handleKeyDown","undefined","bind","displayText","text","id","hasWarning","isExternalUser","hiddenRef","input","getPillsByKey","Component","PillSelector","forwardRef","ref","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,IAAT,QAAqB,WAArB;AAEA,OAAOC,OAAP,MAAoB,YAApB;AACA,SAASC,IAAT,QAAqB,iBAArB;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;AAIA,SAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC7BA,EAAAA,KAAK,CAACC,cAAN;AACAD,EAAAA,KAAK,CAACE,eAAN;AACH;;IAgDKC,gB;;;;;;;;;;;;;;;;;;4DAYM;AACJC,MAAAA,SAAS,EAAE,KADP;AAEJC,MAAAA,aAAa,EAAE,CAAC;AAFZ,K;;qEAKS,YAAc;AAAA,UACnBC,eADmB,GACC,MAAKC,KADN,CACnBD,eADmB;AAG3B,aAAO,OAAOA,eAAe,CAACE,IAAvB,KAAgC,QAAhC,GAA2CF,eAAe,CAACE,IAA3D,GAAkEF,eAAe,CAACG,MAAzF;AACH,K;;oEAEe,UAACC,GAAD,EAA6B;AAAA,UACjCJ,eADiC,GACb,MAAKC,KADQ,CACjCD,eADiC;AAGzC,aAAOA,eAAe,CAACK,GAAhB,CAAoB,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACF,GAAD,CAAV;AAAA,OAA1B,CAAP;AACH,K;;kEAIa,YAAM;AAChB,YAAKG,OAAL,CAAaC,KAAb;AACH,K;;kEAEa,YAAM;AAChB,YAAKC,QAAL,CAAc;AAAEX,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH,K;;iEAEY,YAAM;AACf,YAAKW,QAAL,CAAc;AAAEX,QAAAA,SAAS,EAAE;AAAb,OAAd;AACH,K;;oEAIe,UAACJ,KAAD,EAAqC;AACjD,UAAMgB,UAAU,GAAG,MAAKH,OAAL,CAAaI,KAAhC;;AACA,UAAMC,QAAQ,GAAG,MAAKC,cAAL,EAAjB;;AAFiD,UAGzCd,aAHyC,GAGvB,MAAKe,KAHkB,CAGzCf,aAHyC;;AAKjD,cAAQL,KAAK,CAACU,GAAd;AACI,aAAKf,IAAI,CAAC0B,SAAV;AAAqB;AACjB,gBAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,gBAAIjB,aAAa,IAAI,CAArB,EAAwB;AACpB;AACAiB,cAAAA,KAAK,GAAGjB,aAAR;;AACA,oBAAKkB,kBAAL;;AACA,oBAAKV,OAAL,CAAaC,KAAb;AACH,aALD,MAKO,IAAIE,UAAU,KAAK,EAAnB,EAAuB;AAC1B;AACAM,cAAAA,KAAK,GAAGJ,QAAQ,GAAG,CAAnB;AACH;;AACD,gBAAII,KAAK,IAAI,CAAb,EAAgB;AAAA,gCAC0B,MAAKf,KAD/B;AAAA,kBACJiB,QADI,eACJA,QADI;AAAA,kBACMlB,eADN,eACMA,eADN;AAEZ,kBAAMmB,cAAc,GAChB;AACA,qBAAOnB,eAAe,CAACoB,GAAvB,KAA+B,UAA/B,GAA4CpB,eAAe,CAACoB,GAAhB,CAAoBJ,KAApB,CAA5C,GAAyEhB,eAAe,CAACgB,KAAD,CAF5F;AAGAE,cAAAA,QAAQ,CAACC,cAAD,EAAiBH,KAAjB,CAAR;AACAvB,cAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACH;;AACD;AACH;;AACD,aAAKL,IAAI,CAACgC,SAAV;AACI,cAAItB,aAAa,IAAI,CAArB,EAAwB;AACpB;AACA,kBAAKU,QAAL,CAAc;AACVV,cAAAA,aAAa,EAAEuB,IAAI,CAACC,GAAL,CAASxB,aAAa,GAAG,CAAzB,EAA4B,CAA5B;AADL,aAAd;;AAGAN,YAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACH,WAND,MAMO,IAAIgB,UAAU,KAAK,EAAf,IAAqBE,QAAQ,GAAG,CAApC,EAAuC;AAC1C;AACA,kBAAKY,QAAL,CAAchB,KAAd;;AACA,kBAAKC,QAAL,CAAc;AAAEV,cAAAA,aAAa,EAAEa,QAAQ,GAAG;AAA5B,aAAd;;AACAnB,YAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACH;;AACD;;AACJ,aAAKL,IAAI,CAACoC,UAAV;AAAsB;AAClB,gBAAI1B,aAAa,IAAI,CAArB,EAAwB;AACpB,kBAAMiB,MAAK,GAAGjB,aAAa,GAAG,CAA9B;;AACA,kBAAIiB,MAAK,IAAIJ,QAAb,EAAuB;AACnB;AACA,sBAAKK,kBAAL;;AACA,sBAAKV,OAAL,CAAaC,KAAb;AACH,eAJD,MAIO;AACH;AACA,sBAAKC,QAAL,CAAc;AAAEV,kBAAAA,aAAa,EAAEiB;AAAjB,iBAAd;AACH;;AACDvB,cAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACH;;AACD;AACH;AACD;AAnDJ;AAqDH,K;;qEAEgBR,QAAQ,CAAC,cAAD,C;;gEAEb,UAACsC,QAAD,EAAgC;AACxC,UAAIA,QAAJ,EAAc;AACV,cAAKA,QAAL,GAAgBA,QAAhB;AACH;AACJ,K;;yEAEoB,YAAM;AACvB,UAAI,MAAKV,KAAL,CAAWf,aAAX,KAA6B,CAAC,CAAlC,EAAqC;AACjC,cAAKU,QAAL,CAAc;AAAEV,UAAAA,aAAa,EAAE,CAAC;AAAlB,SAAd;AACH;AACJ,K;;;;;;;6BAEQ;AAAA;;AAAA,wBACgC,KAAKe,KADrC;AAAA,UACGhB,SADH,eACGA,SADH;AAAA,UACcC,aADd,eACcA,aADd;;AAAA,yBAwBD,KAAKE,KAxBJ;AAAA,UAGDyB,iBAHC,gBAGDA,iBAHC;AAAA,UAIDC,SAJC,gBAIDA,SAJC;AAAA,UAKDC,QALC,gBAKDA,QALC;AAAA,UAMDC,KANC,gBAMDA,KANC;AAAA,UAODC,oBAPC,gBAODA,oBAPC;AAAA,UAQDC,gBARC,gBAQDA,gBARC;AAAA,UASDC,eATC,gBASDA,eATC;AAAA,UAUDC,UAVC,gBAUDA,UAVC;AAAA,UAWDC,OAXC,gBAWDA,OAXC;AAAA,UAYDhB,QAZC,gBAYDA,QAZC;AAAA,UAaDiB,kBAbC,gBAaDA,kBAbC;AAAA,UAcDC,WAdC,gBAcDA,WAdC;AAAA,UAeDC,QAfC,gBAeDA,QAfC;AAAA,UAgBDrC,eAhBC,gBAgBDA,eAhBC;AAAA,UAiBDsC,WAjBC,gBAiBDA,WAjBC;AAAA,UAkBDC,gBAlBC,gBAkBDA,gBAlBC;AAAA,UAmBDC,kBAnBC,gBAmBDA,kBAnBC;AAAA,UAoBDC,oBApBC,gBAoBDA,oBApBC;AAAA,UAqBDC,mBArBC,gBAqBDA,mBArBC;AAAA,UAsBDC,SAtBC,gBAsBDA,SAtBC;AAAA,UAuBEC,IAvBF;;AAyBL,UAAMC,qBAAqB,GAAGL,kBAAkB,IAAIA,kBAAkB,CAACrC,MAAnB,GAA4B,CAAhF;AACA,UAAM2C,QAAQ,GAAG,CAAC,CAACjB,KAAnB;AACA,UAAMkB,OAAO,GAAG9D,UAAU,CAAC,kBAAD,EAAqB,6BAArB,EAAoD;AAC1E,uBAAe2C,QAD2D;AAE1E,2BAAmBA,QAFuD;AAG1E,sBAAc9B,SAH4D;AAI1E,sBAAcgD,QAJ4D;AAK1E,6CAAqCD,qBALqC;AAM1E,gDAAwCA;AANkC,OAApD,CAA1B;AAQA,UAAMG,SAAS,GAAG;AACd,wBAAgBF,QADF;AAEd,6BAAqB,KAAKG,cAFZ;AAGd,4BAAoB,KAAKA;AAHX,OAAlB;AAMA,aACI,oBAAC,OAAD;AAAS,QAAA,OAAO,EAAEH,QAAlB;AAA4B,QAAA,IAAI,EAAEjB,KAAK,IAAI,EAA3C;AAA+C,QAAA,QAAQ,EAAEC,oBAAzD;AAA+E,QAAA,KAAK,EAAC;AAArF,SAEI;AACI,QAAA,SAAS,EAAEiB,OADf;AAEI,QAAA,MAAM,EAAE,KAAKG,UAFjB;AAGI,QAAA,OAAO,EAAE,KAAKC,WAHlB;AAII,QAAA,OAAO,EAAE,KAAKC,WAJlB;AAKI,QAAA,SAAS,EAAE,KAAKC,aALpB;AAMI,QAAA,GAAG,EAAEhB;AANT,SAQKE,gBAAgB,GACXvC,eAAe,CAACK,GAAhB,CAAoB,UAACC,MAAD,EAAsBU,KAAtB,EAAwC;AACxD,eACI,oBAAC,SAAD;AACI,UAAA,SAAS,EAAEe,gBAAgB,GAAGA,gBAAgB,CAACzB,MAAD,CAAnB,GAA8BgD,SAD7D;AAEI,UAAA,eAAe,EAAEtB,eAFrB;AAGI,UAAA,OAAO,EAAEN,iBAAiB,GAAGiB,SAAS,CAACrC,MAAD,CAAZ,GAAuB,IAHrD;AAII,UAAA,UAAU,EAAEsB,QAJhB;AAKI,UAAA,UAAU,EAAEZ,KAAK,KAAKjB,aAL1B;AAMI,UAAA,GAAG,EAAEO,MAAM,CAACK,KANhB;AAOI,UAAA,QAAQ,EAAEO,QAAQ,CAACqC,IAAT,CAAc,MAAd,EAAoBjD,MAApB,EAA4BU,KAA5B,CAPd,CAQI;AARJ;AASI,UAAA,IAAI,EAAEV,MAAM,CAACkD,WAAP,IAAsBlD,MAAM,CAACmD,IATvC;AAUI,UAAA,UAAU,EAAEnB,WAVhB;AAWI,UAAA,EAAE,EAAEhC,MAAM,CAACoD,EAXf;AAYI,UAAA,UAAU,EAAEpD,MAAM,CAACqD,UAZvB;AAaI,UAAA,UAAU,EAAErD,MAAM,CAACsD;AAbvB,UADJ;AAiBH,OAlBD,CADW,GAoBX5D,eAAe,CAACK,GAAhB,CAAoB,UAACC,MAAD,EAAiBU,KAAjB,EAAmC;AACnD;AACA,eACI,oBAAC,IAAD;AACI,UAAA,OAAO,EAAEU,iBAAiB,GAAGiB,SAAS,CAACrC,MAAD,CAAZ,GAAuB,IADrD;AAEI,UAAA,UAAU,EAAEsB,QAFhB;AAGI,UAAA,UAAU,EAAEZ,KAAK,KAAKjB,aAH1B;AAII,UAAA,GAAG,EAAEO,MAAM,CAACK,KAJhB;AAKI,UAAA,QAAQ,EAAEO,QAAQ,CAACqC,IAAT,CAAc,MAAd,EAAoBjD,MAApB,EAA4BU,KAA5B,CALd,CAMI;AANJ;AAOI,UAAA,IAAI,EAAEV,MAAM,CAACkD,WAAP,IAAsBlD,MAAM,CAACmD;AAPvC,UADJ;AAWH,OAbD,CA5BV,EA4CI;AACI,uBAAY,MADhB;AAEI,QAAA,SAAS,EAAC,sBAFd;AAGI,QAAA,MAAM,EAAE,KAAKxC,kBAHjB;AAII,QAAA,GAAG,EAAE,KAAK4C,SAJd;AAKI,QAAA,QAAQ,EAAE,CAAC,CALf;AAMI,uBAAY;AANhB,QA5CJ,EAoDI,6CACQb,SADR,EAEQJ,IAFR,EAGQX,UAHR;AAII,QAAA,YAAY,EAAC,KAJjB;AAKI,QAAA,SAAS,EAAEhD,UAAU,CAAC,wBAAD,EAA2B,qBAA3B,EAAkD0C,SAAlD,CALzB;AAMI,QAAA,QAAQ,EAAEC,QANd;AAOI,QAAA,OAAO,EAAEM,OAPb;AAQI,QAAA,WAAW,EAAE,KAAKrB,cAAL,OAA0B,CAA1B,GAA8BuB,WAA9B,GAA4C,EAR7D;AASI,QAAA,GAAG,EAAE,aAAA0B,KAAK,EAAI;AACV,UAAA,MAAI,CAACvD,OAAL,GAAeuD,KAAf;AACH;AAXL,SApDJ,EAiEI,oBAAC,iBAAD;AACI,QAAA,kBAAkB,EAAE3B,kBADxB;AAEI,QAAA,mBAAmB,EAAE,KAAK4B,aAAL,CAAmB,OAAnB,CAFzB;AAGI,QAAA,oBAAoB,EAAEtB,oBAH1B;AAII,QAAA,kBAAkB,EAAED,kBAJxB;AAKI,QAAA,KAAK,EAAEE;AALX,QAjEJ,EAwEI;AAAM,QAAA,EAAE,EAAE,KAAKO,cAAf;AAA+B,QAAA,SAAS,EAAC,sBAAzC;AAAgE,QAAA,IAAI,EAAC;AAArE,SACKpB,KADL,CAxEJ,CAFJ,CADJ;AAiFH;;;;EAjP0B7C,KAAK,CAACgF,S;;gBAA/BnE,gB,kBACkC;AAChC6B,EAAAA,iBAAiB,EAAE,KADa;AAEhCE,EAAAA,QAAQ,EAAE,KAFsB;AAGhCC,EAAAA,KAAK,EAAE,EAHyB;AAIhCC,EAAAA,oBAAoB,EAAE,aAJU;AAKhCG,EAAAA,UAAU,EAAE,EALoB;AAMhCG,EAAAA,WAAW,EAAE,EANmB;AAOhCpC,EAAAA,eAAe,EAAE,EAPe;AAQhC2C,EAAAA,SAAS,EAAE;AAAA,WAAM,IAAN;AAAA;AARqB,C;;AAmPxC,SAAS9C,gBAAT;AAEA,IAAMoE,YAAY,GAAGjF,KAAK,CAACkF,UAAN,CAA0C,UAACjE,KAAD,EAAgBkE,GAAhB;AAAA,SAC3D,oBAAC,gBAAD,eAAsBlE,KAAtB;AAA6B,IAAA,QAAQ,EAAEkE;AAAvC,KAD2D;AAAA,CAA1C,CAArB;AAGAF,YAAY,CAACG,WAAb,GAA2B,cAA3B;AAEA,eAAeH,YAAf","sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport uniqueId from 'lodash/uniqueId';\nimport { List } from 'immutable';\n\nimport Tooltip from '../tooltip';\nimport { KEYS } from '../../constants';\n\nimport RoundPill from './RoundPill';\nimport Pill from './Pill';\nimport SuggestedPillsRow from './SuggestedPillsRow';\nimport type { RoundOption, Option, OptionValue, SuggestedPillsFilter } from './flowTypes';\nimport type { Position } from '../tooltip';\n\nfunction stopDefaultEvent(event) {\n    event.preventDefault();\n    event.stopPropagation();\n}\n\ntype Props = {\n    allowInvalidPills: boolean,\n    className?: string,\n    disabled?: boolean,\n    error?: React.Node,\n    /** Position of error message tooltip */\n    errorTooltipPosition?: Position,\n    /** Called on pill render to get a specific class name to use for a particular option. Note: Only has effect when showRoundedPills is true. */\n    getPillClassName?: (option: Option) => string,\n    /** Function to retrieve the image URL associated with a pill */\n    getPillImageUrl?: (data: { id: string | number, [key: string]: any }) => string,\n    innerRef?: React.Ref<any>,\n    inputProps: Object,\n    onInput: Function,\n    onRemove: Function,\n    onSuggestedPillAdd?: Function,\n    placeholder: string,\n    selectedOptions: List<Object>,\n    /** Whether to show avatars in pills (if rounded style is enabled) */\n    showAvatars?: boolean,\n    /** Whether to use rounded style for pills */\n    showRoundedPills?: boolean,\n    suggestedPillsData?: Array<Object>,\n    suggestedPillsFilter?: SuggestedPillsFilter,\n    suggestedPillsTitle?: string,\n    validator: (option: Option | OptionValue) => boolean,\n};\n\ntype State = {\n    isFocused: boolean,\n    selectedIndex: number,\n};\n\ntype DefaultProps = {\n    allowInvalidPills: boolean,\n    disabled: boolean,\n    error: string,\n    errorTooltipPosition: Position,\n    inputProps: Object,\n    placeholder: string,\n    selectedOptions: List<Object>,\n    validator: () => boolean,\n};\n\ntype Config = React.Config<Props, DefaultProps>;\n\nclass PillSelectorBase extends React.Component<Props, State> {\n    static defaultProps: DefaultProps = {\n        allowInvalidPills: false,\n        disabled: false,\n        error: '',\n        errorTooltipPosition: 'bottom-left',\n        inputProps: {},\n        placeholder: '',\n        selectedOptions: [],\n        validator: () => true,\n    };\n\n    state = {\n        isFocused: false,\n        selectedIndex: -1,\n    };\n\n    getNumSelected = (): number => {\n        const { selectedOptions } = this.props;\n\n        return typeof selectedOptions.size === 'number' ? selectedOptions.size : selectedOptions.length;\n    };\n\n    getPillsByKey = (key: string): Array<any> => {\n        const { selectedOptions } = this.props;\n\n        return selectedOptions.map(option => option[key]);\n    };\n\n    inputEl: HTMLInputElement;\n\n    handleClick = () => {\n        this.inputEl.focus();\n    };\n\n    handleFocus = () => {\n        this.setState({ isFocused: true });\n    };\n\n    handleBlur = () => {\n        this.setState({ isFocused: false });\n    };\n\n    hiddenEl: HTMLSpanElement;\n\n    handleKeyDown = (event: SyntheticKeyboardEvent<>) => {\n        const inputValue = this.inputEl.value;\n        const numPills = this.getNumSelected();\n        const { selectedIndex } = this.state;\n\n        switch (event.key) {\n            case KEYS.backspace: {\n                let index = -1;\n                if (selectedIndex >= 0) {\n                    // remove selected pill\n                    index = selectedIndex;\n                    this.resetSelectedIndex();\n                    this.inputEl.focus();\n                } else if (inputValue === '') {\n                    // remove last pill\n                    index = numPills - 1;\n                }\n                if (index >= 0) {\n                    const { onRemove, selectedOptions } = this.props;\n                    const selectedOption =\n                        // $FlowFixMe\n                        typeof selectedOptions.get === 'function' ? selectedOptions.get(index) : selectedOptions[index];\n                    onRemove(selectedOption, index);\n                    stopDefaultEvent(event);\n                }\n                break;\n            }\n            case KEYS.arrowLeft:\n                if (selectedIndex >= 0) {\n                    // select previous pill\n                    this.setState({\n                        selectedIndex: Math.max(selectedIndex - 1, 0),\n                    });\n                    stopDefaultEvent(event);\n                } else if (inputValue === '' && numPills > 0) {\n                    // select last pill\n                    this.hiddenEl.focus();\n                    this.setState({ selectedIndex: numPills - 1 });\n                    stopDefaultEvent(event);\n                }\n                break;\n            case KEYS.arrowRight: {\n                if (selectedIndex >= 0) {\n                    const index = selectedIndex + 1;\n                    if (index >= numPills) {\n                        // deselect last pill\n                        this.resetSelectedIndex();\n                        this.inputEl.focus();\n                    } else {\n                        // select next pill\n                        this.setState({ selectedIndex: index });\n                    }\n                    stopDefaultEvent(event);\n                }\n                break;\n            }\n            // no default\n        }\n    };\n\n    errorMessageID = uniqueId('errorMessage');\n\n    hiddenRef = (hiddenEl: ?HTMLSpanElement) => {\n        if (hiddenEl) {\n            this.hiddenEl = hiddenEl;\n        }\n    };\n\n    resetSelectedIndex = () => {\n        if (this.state.selectedIndex !== -1) {\n            this.setState({ selectedIndex: -1 });\n        }\n    };\n\n    render() {\n        const { isFocused, selectedIndex } = this.state;\n        const {\n            allowInvalidPills,\n            className,\n            disabled,\n            error,\n            errorTooltipPosition,\n            getPillClassName,\n            getPillImageUrl,\n            inputProps,\n            onInput,\n            onRemove,\n            onSuggestedPillAdd,\n            placeholder,\n            innerRef,\n            selectedOptions,\n            showAvatars,\n            showRoundedPills,\n            suggestedPillsData,\n            suggestedPillsFilter,\n            suggestedPillsTitle,\n            validator,\n            ...rest\n        } = this.props;\n        const suggestedPillsEnabled = suggestedPillsData && suggestedPillsData.length > 0;\n        const hasError = !!error;\n        const classes = classNames('bdl-PillSelector', 'pill-selector-input-wrapper', {\n            'is-disabled': disabled,\n            'bdl-is-disabled': disabled,\n            'is-focused': isFocused,\n            'show-error': hasError,\n            'pill-selector-suggestions-enabled': suggestedPillsEnabled,\n            'bdl-PillSelector--suggestionsEnabled': suggestedPillsEnabled,\n        });\n        const ariaAttrs = {\n            'aria-invalid': hasError,\n            'aria-errormessage': this.errorMessageID,\n            'aria-describedby': this.errorMessageID,\n        };\n\n        return (\n            <Tooltip isShown={hasError} text={error || ''} position={errorTooltipPosition} theme=\"error\">\n                {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n                <span\n                    className={classes}\n                    onBlur={this.handleBlur}\n                    onClick={this.handleClick}\n                    onFocus={this.handleFocus}\n                    onKeyDown={this.handleKeyDown}\n                    ref={innerRef}\n                >\n                    {showRoundedPills\n                        ? selectedOptions.map((option: RoundOption, index: number) => {\n                              return (\n                                  <RoundPill\n                                      className={getPillClassName ? getPillClassName(option) : undefined}\n                                      getPillImageUrl={getPillImageUrl}\n                                      isValid={allowInvalidPills ? validator(option) : true}\n                                      isDisabled={disabled}\n                                      isSelected={index === selectedIndex}\n                                      key={option.value}\n                                      onRemove={onRemove.bind(this, option, index)}\n                                      // $FlowFixMe option.text is for backwards compatibility\n                                      text={option.displayText || option.text}\n                                      showAvatar={showAvatars}\n                                      id={option.id}\n                                      hasWarning={option.hasWarning}\n                                      isExternal={option.isExternalUser}\n                                  />\n                              );\n                          })\n                        : selectedOptions.map((option: Option, index: number) => {\n                              // TODO: This and associated types will be removed once all views are updates with round pills.\n                              return (\n                                  <Pill\n                                      isValid={allowInvalidPills ? validator(option) : true}\n                                      isDisabled={disabled}\n                                      isSelected={index === selectedIndex}\n                                      key={option.value}\n                                      onRemove={onRemove.bind(this, option, index)}\n                                      // $FlowFixMe option.text is for backwards compatibility\n                                      text={option.displayText || option.text}\n                                  />\n                              );\n                          })}\n\n                    {/* hidden element for focus/key events during pill selection */}\n                    <span\n                        aria-hidden=\"true\"\n                        className=\"accessibility-hidden\"\n                        onBlur={this.resetSelectedIndex}\n                        ref={this.hiddenRef}\n                        tabIndex={-1}\n                        data-testid=\"pill-selection-helper\"\n                    />\n                    <textarea\n                        {...ariaAttrs}\n                        {...rest}\n                        {...inputProps}\n                        autoComplete=\"off\"\n                        className={classNames('bdl-PillSelector-input', 'pill-selector-input', className)}\n                        disabled={disabled}\n                        onInput={onInput}\n                        placeholder={this.getNumSelected() === 0 ? placeholder : ''}\n                        ref={input => {\n                            this.inputEl = input;\n                        }}\n                    />\n                    <SuggestedPillsRow\n                        onSuggestedPillAdd={onSuggestedPillAdd}\n                        selectedPillsValues={this.getPillsByKey('value')}\n                        suggestedPillsFilter={suggestedPillsFilter}\n                        suggestedPillsData={suggestedPillsData}\n                        title={suggestedPillsTitle}\n                    />\n                    <span id={this.errorMessageID} className=\"accessibility-hidden\" role=\"alert\">\n                        {error}\n                    </span>\n                </span>\n            </Tooltip>\n        );\n    }\n}\n\nexport { PillSelectorBase };\n\nconst PillSelector = React.forwardRef<Config, HTMLSpanElement>((props: Config, ref: React.Ref<any>) => (\n    <PillSelectorBase {...props} innerRef={ref} />\n));\nPillSelector.displayName = 'PillSelector';\n\nexport default PillSelector;\n"],"file":"PillSelector.js"}