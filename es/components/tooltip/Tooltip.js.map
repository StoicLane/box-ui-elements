{"version":3,"sources":["../../../src/components/tooltip/Tooltip.tsx"],"names":["React","classNames","uniqueId","getProp","TetherComponent","TetherPosition","CloseButton","TooltipTheme","TooltipPosition","positions","BOTTOM_CENTER","attachment","TOP_CENTER","targetAttachment","BOTTOM_LEFT","TOP_RIGHT","BOTTOM_RIGHT","TOP_LEFT","MIDDLE_LEFT","MIDDLE_RIGHT","Tooltip","props","createRef","tetherRef","current","isShown","position","onDismiss","setState","wasClosedByUser","type","event","children","handler","stopPropagation","nativeEvent","stopImmediatePropagation","fireChildEvent","isShownProp","key","isControlled","state","showTooltip","hasRendered","prevProps","prevState","document","addEventListener","handleKeyDown","removeEventListener","ariaHidden","bodyElement","className","constrainToScrollParent","constrainToWindow","isDisabled","isTabbable","offset","showCloseButton","stopBubble","tetherElementClassName","text","theme","childAriaLabel","isLabelMatchingTooltipText","Children","only","withCloseButton","tetherPosition","constraints","componentProps","push","to","undefined","tooltipID","ERROR","onBlur","handleBlur","onFocus","handleFocus","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","tabIndex","bodyEl","HTMLElement","body","classes","CALLOUT","tetherProps","classPrefix","enabled","tooltipInner","closeTooltip","tooltip","handleTooltipEvent","cloneElement","Component","DEFAULT"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport uniqueId from 'lodash/uniqueId';\nimport getProp from 'lodash/get';\nimport TetherComponent from 'react-tether';\n\nimport TetherPosition from '../../common/tether-positions';\nimport CloseButton from './CloseButton';\n\nimport './Tooltip.scss';\n\nexport enum TooltipTheme {\n    CALLOUT = 'callout',\n    DEFAULT = 'default',\n    ERROR = 'error',\n}\n\nexport enum TooltipPosition {\n    BOTTOM_CENTER = 'bottom-center',\n    BOTTOM_LEFT = 'bottom-left',\n    BOTTOM_RIGHT = 'bottom-right',\n    MIDDLE_LEFT = 'middle-left',\n    MIDDLE_RIGHT = 'middle-right',\n    TOP_CENTER = 'top-center',\n    TOP_LEFT = 'top-left',\n    TOP_RIGHT = 'top-right',\n}\n\nexport type TooltipCustomPosition = {\n    attachment: TetherPosition;\n    targetAttachment: TetherPosition;\n};\n\nconst positions = {\n    [TooltipPosition.BOTTOM_CENTER]: {\n        attachment: TetherPosition.TOP_CENTER,\n        targetAttachment: TetherPosition.BOTTOM_CENTER,\n    },\n    [TooltipPosition.BOTTOM_LEFT]: {\n        attachment: TetherPosition.TOP_RIGHT,\n        targetAttachment: TetherPosition.BOTTOM_RIGHT,\n    },\n    [TooltipPosition.BOTTOM_RIGHT]: {\n        attachment: TetherPosition.TOP_LEFT,\n        targetAttachment: TetherPosition.BOTTOM_LEFT,\n    },\n    [TooltipPosition.MIDDLE_LEFT]: {\n        attachment: TetherPosition.MIDDLE_RIGHT,\n        targetAttachment: TetherPosition.MIDDLE_LEFT,\n    },\n    [TooltipPosition.MIDDLE_RIGHT]: {\n        attachment: TetherPosition.MIDDLE_LEFT,\n        targetAttachment: TetherPosition.MIDDLE_RIGHT,\n    },\n    [TooltipPosition.TOP_CENTER]: {\n        attachment: TetherPosition.BOTTOM_CENTER,\n        targetAttachment: TetherPosition.TOP_CENTER,\n    },\n    [TooltipPosition.TOP_LEFT]: {\n        attachment: TetherPosition.BOTTOM_RIGHT,\n        targetAttachment: TetherPosition.TOP_RIGHT,\n    },\n    [TooltipPosition.TOP_RIGHT]: {\n        attachment: TetherPosition.BOTTOM_LEFT,\n        targetAttachment: TetherPosition.TOP_LEFT,\n    },\n};\n\nexport type DefaultTooltipProps = {\n    /** Whether to constrain the tooltip to the element's scroll parent. Defaults to `false` */\n    constrainToScrollParent: boolean;\n    /** Whether to constrain the tooltip to window. Defaults to `true` */\n    constrainToWindow: boolean;\n    /** Forces the tooltip to be disabled irrespecitve of it's shown state. Defaults to `false` */\n    isDisabled: boolean;\n    /** Where to position the tooltip relative to the wrapped component */\n    position: TooltipPosition | TooltipCustomPosition;\n    /** Tooltip theme */\n    theme: TooltipTheme;\n};\n\nexport type TooltipProps = {\n    /** Sets aria-hidden attribute on tooltip */\n    ariaHidden?: boolean;\n    /** An HTML element to append the tooltip container into (otherwise appends to body) */\n    bodyElement?: HTMLElement;\n    /** A React element to put the tooltip on */\n    children: React.ReactChild;\n    /** A CSS class for the tooltip */\n    className?: string;\n    /** Forces the tooltip to be shown or hidden (useful for errors) */\n    isShown?: boolean;\n    /** Whether to add tabindex=0.  Defaults to `true` */\n    isTabbable?: boolean;\n    /** A string of the form 'vert-offset horiz-offset' which controls positioning */\n    offset?: string;\n    /** Function called if the user manually dismisses the tooltip - only applies if showCloseButton is true */\n    onDismiss?: () => void;\n    /** Shows an X button to close the tooltip. Useful when tooltips are force shown with the isShown prop. */\n    showCloseButton?: boolean;\n    /** stop click|keypress event bubbling */\n    stopBubble?: boolean;\n    /** A CSS class for the tether element component */\n    tetherElementClassName?: string;\n    /** Text to show in the tooltip */\n    text?: React.ReactNode;\n} & Partial<DefaultTooltipProps>;\n\ntype State = {\n    isShown: boolean;\n    hasRendered: boolean;\n    wasClosedByUser: boolean;\n};\n\nclass Tooltip extends React.Component<TooltipProps, State> {\n    static defaultProps: DefaultTooltipProps = {\n        constrainToScrollParent: false,\n        constrainToWindow: true,\n        isDisabled: false,\n        position: TooltipPosition.TOP_CENTER,\n        theme: TooltipTheme.DEFAULT,\n    };\n\n    constructor(props: TooltipProps) {\n        super(props);\n\n        this.state = { isShown: !!props.isShown, hasRendered: false, wasClosedByUser: false };\n    }\n\n    componentDidMount() {\n        this.setState({ hasRendered: true });\n    }\n\n    componentDidUpdate(prevProps: TooltipProps, prevState: State) {\n        const isControlled = this.isControlled();\n\n        // Reset wasClosedByUser state when isShown transitions from false to true\n        if (isControlled) {\n            if (!prevProps.isShown && this.props.isShown) {\n                this.setState({ wasClosedByUser: false });\n            }\n        } else {\n            if (!prevState.isShown && this.state.isShown) {\n                // capture event so that tooltip closes before any other floating components that can be closed by\n                // \"Escape\" key(e.g. Modal, Menu, etc.)\n                document.addEventListener('keydown', this.handleKeyDown, true);\n            }\n            if (prevState.isShown && !this.state.isShown) {\n                document.removeEventListener('keydown', this.handleKeyDown, true);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown, true);\n    }\n\n    tooltipID = uniqueId('tooltip');\n\n    tetherRef = React.createRef<TetherComponent>();\n\n    // Instance API: Forces the radar to be repositioned\n    position = () => {\n        if (this.tetherRef.current && this.isShown()) {\n            this.tetherRef.current.position();\n        }\n    };\n\n    closeTooltip = () => {\n        const { onDismiss } = this.props;\n        this.setState({ wasClosedByUser: true });\n        if (onDismiss) {\n            onDismiss();\n        }\n    };\n\n    fireChildEvent = (type: string, event: React.SyntheticEvent<HTMLElement> | Event) => {\n        const { children } = this.props;\n        const handler = (children as React.ReactElement).props[type];\n        if (handler) {\n            handler(event);\n        }\n    };\n\n    handleTooltipEvent = (event: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>) => {\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n    };\n\n    handleMouseEnter = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: true });\n        this.fireChildEvent('onMouseEnter', event);\n    };\n\n    handleMouseLeave = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: false });\n        this.fireChildEvent('onMouseLeave', event);\n    };\n\n    handleFocus = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: true });\n        this.fireChildEvent('onFocus', event);\n    };\n\n    handleBlur = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isShown: false });\n        this.fireChildEvent('onBlur', event);\n    };\n\n    isControlled = () => {\n        const { isShown: isShownProp } = this.props;\n        return typeof isShownProp !== 'undefined';\n    };\n\n    handleKeyDown = (event: KeyboardEvent) => {\n        if (event.key === 'Escape') {\n            event.stopPropagation();\n            this.setState({ isShown: false });\n        }\n        this.fireChildEvent('onKeyDown', event);\n    };\n\n    isShown = () => {\n        const { isShown: isShownProp } = this.props;\n        const isControlled = this.isControlled();\n\n        const isShown = isControlled ? isShownProp : this.state.isShown;\n\n        const showTooltip = isShown && !this.state.wasClosedByUser && this.state.hasRendered;\n\n        return showTooltip;\n    };\n\n    render() {\n        const {\n            ariaHidden,\n            bodyElement,\n            children,\n            className,\n            constrainToScrollParent,\n            constrainToWindow,\n            isDisabled,\n            isTabbable = true,\n            offset,\n            position = TooltipPosition.TOP_CENTER,\n            showCloseButton,\n            stopBubble,\n            tetherElementClassName,\n            text,\n            theme,\n        } = this.props;\n\n        const childAriaLabel = getProp(children, 'props.aria-label');\n        const isLabelMatchingTooltipText = !!childAriaLabel && childAriaLabel === text;\n\n        // If the tooltip is disabled just render the children\n        if (isDisabled) {\n            return React.Children.only(children);\n        }\n\n        const isControlled = this.isControlled();\n        const showTooltip = this.isShown();\n\n        const withCloseButton = showCloseButton && isControlled;\n        const tetherPosition = typeof position === 'string' ? positions[position] : position;\n        const constraints = [];\n        const componentProps: {\n            [key: string]:\n                | string\n                | ((event: React.SyntheticEvent<HTMLElement>) => void)\n                | ((event: React.KeyboardEvent<HTMLElement>) => void);\n        } = {};\n\n        if (constrainToScrollParent) {\n            constraints.push({\n                to: 'scrollParent',\n                attachment: 'together',\n            });\n        }\n        if (constrainToWindow) {\n            constraints.push({\n                to: 'window',\n                attachment: 'together',\n            });\n        }\n\n        if (showTooltip && !ariaHidden) {\n            if (!isLabelMatchingTooltipText || childAriaLabel === undefined) {\n                componentProps['aria-describedby'] = this.tooltipID;\n            }\n\n            if (theme === TooltipTheme.ERROR) {\n                componentProps['aria-errormessage'] = this.tooltipID;\n            }\n        }\n        if (!isControlled) {\n            componentProps.onBlur = this.handleBlur;\n            componentProps.onFocus = this.handleFocus;\n            componentProps.onMouseEnter = this.handleMouseEnter;\n            componentProps.onMouseLeave = this.handleMouseLeave;\n\n            if (isTabbable) {\n                componentProps.tabIndex = '0';\n            }\n        }\n\n        const bodyEl = bodyElement instanceof HTMLElement ? bodyElement : document.body;\n\n        const classes = classNames('tooltip', 'bdl-Tooltip', className, {\n            'is-callout': theme === TooltipTheme.CALLOUT,\n            'is-error': theme === TooltipTheme.ERROR,\n            'with-close-button': withCloseButton,\n        });\n\n        const tetherProps: {\n            attachment: TetherPosition;\n            bodyElement: HTMLElement;\n            classPrefix: string;\n            constraints: {};\n            enabled: boolean | undefined;\n            targetAttachment: TetherPosition;\n            offset?: string;\n            className?: string;\n        } = {\n            attachment: tetherPosition.attachment,\n            bodyElement: bodyEl,\n            classPrefix: 'tooltip',\n            constraints,\n            enabled: showTooltip,\n            targetAttachment: tetherPosition.targetAttachment,\n        };\n\n        if (tetherElementClassName) {\n            tetherProps.className = tetherElementClassName;\n        }\n\n        if (offset) {\n            tetherProps.offset = offset;\n        }\n\n        const tooltipInner = (\n            <>\n                {text}\n                {withCloseButton && <CloseButton onClick={this.closeTooltip} />}\n            </>\n        );\n\n        const tooltip = stopBubble ? (\n            <div\n                className={classes}\n                id={this.tooltipID}\n                onClick={this.handleTooltipEvent}\n                onContextMenu={this.handleTooltipEvent}\n                onKeyPress={this.handleTooltipEvent}\n                onMouseEnter={this.handleMouseEnter}\n                onMouseLeave={this.handleMouseLeave}\n                role=\"presentation\"\n            >\n                <div\n                    role={theme === TooltipTheme.ERROR ? undefined : 'tooltip'}\n                    aria-live=\"polite\"\n                    aria-hidden={ariaHidden || isLabelMatchingTooltipText}\n                    data-testid=\"bdl-Tooltip\"\n                >\n                    {tooltipInner}\n                </div>\n            </div>\n        ) : (\n            <div\n                aria-live=\"polite\"\n                aria-hidden={ariaHidden || isLabelMatchingTooltipText}\n                className={classes}\n                data-testid=\"bdl-Tooltip\"\n                id={this.tooltipID}\n                onMouseEnter={this.handleMouseEnter}\n                onMouseLeave={this.handleMouseLeave}\n                role={theme === TooltipTheme.ERROR ? undefined : 'tooltip'}\n            >\n                {tooltipInner}\n            </div>\n        );\n\n        return (\n            <TetherComponent ref={this.tetherRef} {...tetherProps}>\n                {React.cloneElement(React.Children.only(children) as React.ReactElement, componentProps)}\n                {showTooltip && tooltip}\n            </TetherComponent>\n        );\n    }\n}\n\nexport default Tooltip;\n"],"file":"Tooltip.js"}