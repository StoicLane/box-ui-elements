{"version":3,"sources":["../../../../../src/elements/content-sidebar/activity-feed/comment/RepliesToggle.js"],"names":["React","FormattedMessage","messages","PlainButton","RepliesToggle","onShowReplies","onHideReplies","repliesShownCount","repliesTotalCount","hasMoreRepliesToShow","toggleMessage","showReplies","hideReplies","repliesToLoadCount","Math","max","handleToggle"],"mappings":";;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AAEA,OAAO,sBAAP;;AASA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAAmF;AAAA,MAAhFC,aAAgF,QAAhFA,aAAgF;AAAA,MAAjEC,aAAiE,QAAjEA,aAAiE;AAAA,MAAlDC,iBAAkD,QAAlDA,iBAAkD;AAAA,MAA/BC,iBAA+B,QAA/BA,iBAA+B;;AACrG,MAAIA,iBAAiB,IAAI,CAAzB,EAA4B;AACxB,WAAO,IAAP;AACH;;AAED,MAAMC,oBAAoB,GAAGD,iBAAiB,GAAGD,iBAAjD;AACA,MAAMG,aAAa,GAAGD,oBAAoB,GAAGP,QAAQ,CAACS,WAAZ,GAA0BT,QAAQ,CAACU,WAA7E;AACA,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,GAAL,CAASP,iBAAiB,GAAGD,iBAA7B,EAAgD,CAAhD,CAA3B;;AAEA,MAAMS,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvB,QAAIP,oBAAJ,EAA0B;AACtBJ,MAAAA,aAAa;AAChB,KAFD,MAEO,IAAIE,iBAAJ,EAAuB;AAC1BD,MAAAA,aAAa,CAACC,iBAAiB,GAAG,CAArB,CAAb;AACH;AACJ,GAND;;AAQA,SACI,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,mBAAvB;AAA2C,IAAA,OAAO,EAAES,YAApD;AAAkE,IAAA,IAAI,EAAC,QAAvE;AAAgF,mBAAY;AAA5F,KACI,oBAAC,gBAAD;AAAkB,IAAA,MAAM,EAAE;AAAEH,MAAAA,kBAAkB,EAAlBA;AAAF;AAA1B,KAAsDH,aAAtD,EADJ,CADJ;AAKH,CAtBD;;AAwBA,eAAeN,aAAf","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport messages from './messages';\nimport PlainButton from '../../../../components/plain-button';\n\nimport './RepliesToggle.scss';\n\ntype Props = {\n    onHideReplies: (index: number) => void,\n    onShowReplies: () => void,\n    repliesShownCount: number,\n    repliesTotalCount: number,\n};\n\nconst RepliesToggle = ({ onShowReplies, onHideReplies, repliesShownCount, repliesTotalCount }: Props) => {\n    if (repliesTotalCount <= 1) {\n        return null;\n    }\n\n    const hasMoreRepliesToShow = repliesTotalCount > repliesShownCount;\n    const toggleMessage = hasMoreRepliesToShow ? messages.showReplies : messages.hideReplies;\n    const repliesToLoadCount = Math.max(repliesTotalCount - repliesShownCount, 0);\n\n    const handleToggle = () => {\n        if (hasMoreRepliesToShow) {\n            onShowReplies();\n        } else if (repliesShownCount) {\n            onHideReplies(repliesShownCount - 1);\n        }\n    };\n\n    return (\n        <PlainButton className=\"bcs-RepliesToggle\" onClick={handleToggle} type=\"button\" data-testid=\"replies-toggle\">\n            <FormattedMessage values={{ repliesToLoadCount }} {...toggleMessage} />\n        </PlainButton>\n    );\n};\n\nexport default RepliesToggle;\n"],"file":"RepliesToggle.js"}