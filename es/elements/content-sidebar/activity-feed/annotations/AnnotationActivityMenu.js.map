{"version":3,"sources":["../../../../../src/elements/content-sidebar/activity-feed/annotations/AnnotationActivityMenu.js"],"names":["React","classNames","FormattedMessage","DropdownMenu","Checkmark16","IconEllipsis","Pencil16","PlainButton","Trash16","X16","Menu","MenuItem","ACTIVITY_TARGETS","COMMENT_STATUS_OPEN","COMMENT_STATUS_RESOLVED","bdlGray50","messages","AnnotationActivityMenu","canDelete","canEdit","canResolve","className","id","isDisabled","onDelete","onEdit","onMenuClose","onMenuOpen","onStatusChange","status","menuProps","isResolved","ANNOTATION_OPTIONS_UNRESOLVE","annotationActivityUnresolveMenuItem","ANNOTATION_OPTIONS_RESOLVE","annotationActivityResolveMenuItem","ANNOTATION_OPTIONS_EDIT","annotationActivityEditMenuItem","ANNOTATION_OPTIONS_DELETE","annotationActivityDeleteMenuItem"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport DropdownMenu from '../../../../components/dropdown-menu';\nimport Checkmark16 from '../../../../icon/fill/Checkmark16';\nimport IconEllipsis from '../../../../icons/general/IconEllipsis';\nimport Pencil16 from '../../../../icon/line/Pencil16';\nimport PlainButton from '../../../../components/plain-button';\nimport Trash16 from '../../../../icon/line/Trash16';\nimport X16 from '../../../../icon/fill/X16';\nimport { Menu, MenuItem } from '../../../../components/menu';\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport { COMMENT_STATUS_OPEN, COMMENT_STATUS_RESOLVED } from '../../../../constants';\nimport { bdlGray50 } from '../../../../styles/variables';\nimport type { FeedItemStatus } from '../../../../common/types/feed';\nimport messages from './messages';\nimport './AnnotationActivityMenu.scss';\n\ntype AnnotationActivityMenuProps = {\n    canDelete?: boolean,\n    canEdit?: boolean,\n    canResolve?: boolean,\n    className?: string,\n    id: string,\n    isDisabled?: boolean,\n    onDelete: () => void,\n    onEdit: () => void,\n    onMenuClose: () => void,\n    onMenuOpen: () => void,\n    onStatusChange: (newStatus: FeedItemStatus) => void,\n    status?: FeedItemStatus,\n};\n\nconst AnnotationActivityMenu = ({\n    canDelete,\n    canEdit,\n    canResolve,\n    className,\n    id,\n    isDisabled,\n    onDelete,\n    onEdit,\n    onMenuClose,\n    onMenuOpen,\n    onStatusChange,\n    status,\n}: AnnotationActivityMenuProps) => {\n    const menuProps = {\n        'data-resin-component': 'preview',\n        'data-resin-feature': 'annotations',\n    };\n    const isResolved = status === COMMENT_STATUS_RESOLVED;\n\n    return (\n        <DropdownMenu constrainToScrollParent isRightAligned onMenuClose={onMenuClose} onMenuOpen={onMenuOpen}>\n            <PlainButton\n                className={classNames('bcs-AnnotationActivityMenu', className)}\n                isDisabled={isDisabled}\n                data-testid=\"annotation-activity-actions-menu\"\n                type=\"button\"\n            >\n                <IconEllipsis color={bdlGray50} height={16} width={16} />\n            </PlainButton>\n            <Menu {...menuProps}>\n                {canResolve && isResolved && (\n                    <MenuItem\n                        className=\"bcs-AnnotationActivityMenu-unresolveAnnotation\"\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_UNRESOLVE}\n                        data-testid=\"unresolve-annotation-activity\"\n                        onClick={() => onStatusChange(COMMENT_STATUS_OPEN)}\n                    >\n                        <X16 />\n                        <FormattedMessage {...messages.annotationActivityUnresolveMenuItem} />\n                    </MenuItem>\n                )}\n                {canResolve && !isResolved && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_RESOLVE}\n                        data-testid=\"resolve-annotation-activity\"\n                        onClick={() => onStatusChange(COMMENT_STATUS_RESOLVED)}\n                    >\n                        <Checkmark16 />\n                        <FormattedMessage {...messages.annotationActivityResolveMenuItem} />\n                    </MenuItem>\n                )}\n\n                {canEdit && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_EDIT}\n                        data-testid=\"edit-annotation-activity\"\n                        onClick={onEdit}\n                    >\n                        <Pencil16 />\n                        <FormattedMessage {...messages.annotationActivityEditMenuItem} />\n                    </MenuItem>\n                )}\n                {canDelete && (\n                    <MenuItem\n                        data-resin-itemid={id}\n                        data-resin-target={ACTIVITY_TARGETS.ANNOTATION_OPTIONS_DELETE}\n                        data-testid=\"delete-annotation-activity\"\n                        onClick={onDelete}\n                    >\n                        <Trash16 />\n                        <FormattedMessage {...messages.annotationActivityDeleteMenuItem} />\n                    </MenuItem>\n                )}\n            </Menu>\n        </DropdownMenu>\n    );\n};\n\nexport default AnnotationActivityMenu;\n"],"file":"AnnotationActivityMenu.js"}