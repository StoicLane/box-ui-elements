{"version":3,"sources":["../../../../../src/elements/content-sidebar/activity-feed/annotations/AnnotationActivity.js"],"names":["React","classNames","getProp","noop","TetherComponent","ActivityError","ActivityMessage","ActivityStatus","ActivityTimestamp","AnnotationActivityLink","AnnotationActivityMenu","Avatar","CommentForm","DeleteConfirmation","Media","messages","SelectableActivityCard","UserLink","ACTIVITY_TARGETS","COMMENT_STATUS_RESOLVED","PLACEHOLDER_USER","IconAnnotation","AnnotationActivity","currentUser","item","getAvatarUrl","getMentionWithQuery","getUserProfileUrl","hasVersions","isCurrentVersion","mentionSelectorContacts","onDelete","onEdit","onSelect","onStatusChange","useState","isConfirmingDelete","setIsConfirmingDelete","isEditing","setIsEditing","isMenuOpen","setIsMenuOpen","created_at","created_by","description","error","file_version","id","isPending","modified_at","permissions","status","target","canDelete","can_delete","canEdit","can_edit","canResolve","can_resolve","isEdited","undefined","isFileVersionUnavailable","isCardDisabled","isMenuVisible","isResolved","handleDelete","handleDeleteCancel","handleDeleteConfirm","handleEdit","handleFormCancel","handleFormSubmit","text","handleMenuClose","handleMenuOpen","handleMouseDown","event","stopPropagation","handleSelect","handleStatusChange","newStatus","createdAtTimestamp","Date","getTime","createdByUser","linkMessage","annotationActivityPageItem","annotationActivityVersionLink","linkValue","location","value","message","activityLinkMessage","annotationActivityVersionUnavailable","values","number","tetherProps","attachment","className","constraints","to","targetAttachment","PROFILE","name","ANNOTATION_OPTIONS","annotationActivityDeletePrompt"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport getProp from 'lodash/get';\nimport noop from 'lodash/noop';\nimport TetherComponent from 'react-tether';\nimport ActivityError from '../common/activity-error';\nimport ActivityMessage from '../common/activity-message';\nimport ActivityStatus from '../common/activity-status';\nimport ActivityTimestamp from '../common/activity-timestamp';\nimport AnnotationActivityLink from './AnnotationActivityLink';\nimport AnnotationActivityMenu from './AnnotationActivityMenu';\nimport Avatar from '../Avatar';\nimport CommentForm from '../comment-form/CommentForm';\nimport DeleteConfirmation from '../common/delete-confirmation';\nimport Media from '../../../../components/media';\nimport messages from './messages';\nimport SelectableActivityCard from '../SelectableActivityCard';\nimport UserLink from '../common/user-link';\nimport { ACTIVITY_TARGETS } from '../../../common/interactionTargets';\nimport { COMMENT_STATUS_RESOLVED, PLACEHOLDER_USER } from '../../../../constants';\nimport type { Annotation, AnnotationPermission, FeedItemStatus } from '../../../../common/types/feed';\nimport type { GetAvatarUrlCallback, GetProfileUrlCallback } from '../../../common/flowTypes';\nimport type { SelectorItems, User } from '../../../../common/types/core';\n\nimport IconAnnotation from '../../../../icons/two-toned/IconAnnotation';\n\nimport './AnnotationActivity.scss';\n\nimport { type OnAnnotationEdit } from '../comment/types';\n\ntype Props = {\n    currentUser?: User,\n    getAvatarUrl: GetAvatarUrlCallback,\n    getMentionWithQuery?: (searchStr: string) => void,\n    getUserProfileUrl?: GetProfileUrlCallback,\n    hasVersions?: boolean,\n    isCurrentVersion: boolean,\n    item: Annotation,\n    mentionSelectorContacts?: SelectorItems<User>,\n    onDelete?: ({ id: string, permissions: AnnotationPermission }) => any,\n    onEdit?: OnAnnotationEdit,\n    onSelect?: (annotation: Annotation) => any,\n    onStatusChange?: (id: string, status: FeedItemStatus, permissions: AnnotationPermission) => void,\n};\n\nconst AnnotationActivity = ({\n    currentUser,\n    item,\n    getAvatarUrl,\n    getMentionWithQuery,\n    getUserProfileUrl,\n    hasVersions,\n    isCurrentVersion,\n    mentionSelectorContacts,\n    onDelete = noop,\n    onEdit = noop,\n    onSelect = noop,\n    onStatusChange = noop,\n}: Props) => {\n    const [isConfirmingDelete, setIsConfirmingDelete] = React.useState(false);\n    const [isEditing, setIsEditing] = React.useState(false);\n    const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n    const {\n        created_at,\n        created_by,\n        description,\n        error,\n        file_version,\n        id,\n        isPending,\n        modified_at,\n        permissions = {},\n        status,\n        target,\n    } = item;\n    const { can_delete: canDelete, can_edit: canEdit, can_resolve: canResolve } = permissions;\n    const isEdited = modified_at !== undefined && modified_at !== created_at;\n    const isFileVersionUnavailable = file_version === null;\n    const isCardDisabled = !!error || isConfirmingDelete || isMenuOpen || isEditing || isFileVersionUnavailable;\n    const isMenuVisible = (canDelete || canEdit || canResolve) && !isPending;\n    const isResolved = status === COMMENT_STATUS_RESOLVED;\n\n    const handleDelete = (): void => setIsConfirmingDelete(true);\n    const handleDeleteCancel = (): void => setIsConfirmingDelete(false);\n    const handleDeleteConfirm = (): void => {\n        setIsConfirmingDelete(false);\n        onDelete({ id, permissions });\n    };\n\n    const handleEdit = (): void => setIsEditing(true);\n    const handleFormCancel = (): void => setIsEditing(false);\n    const handleFormSubmit = ({ text }): void => {\n        setIsEditing(false);\n        onEdit({ id, text, permissions });\n    };\n    const handleMenuClose = (): void => setIsMenuOpen(false);\n    const handleMenuOpen = (): void => setIsMenuOpen(true);\n    const handleMouseDown = (event: MouseEvent) => {\n        if (isCardDisabled) {\n            return;\n        }\n\n        // Prevents document event handlers from executing because box-annotations relies on\n        // detecting mouse events on the document outside of annotation targets to determine when to\n        // deselect annotations\n        event.stopPropagation();\n    };\n    const handleSelect = () => onSelect(item);\n\n    const handleStatusChange = (newStatus: FeedItemStatus) => onStatusChange(id, newStatus, permissions);\n\n    const createdAtTimestamp = new Date(created_at).getTime();\n    const createdByUser = created_by || PLACEHOLDER_USER;\n    const linkMessage = isCurrentVersion ? messages.annotationActivityPageItem : messages.annotationActivityVersionLink;\n    const linkValue = isCurrentVersion ? target.location.value : getProp(file_version, 'version_number');\n    const message = (description && description.message) || '';\n    const activityLinkMessage = isFileVersionUnavailable\n        ? messages.annotationActivityVersionUnavailable\n        : { ...linkMessage, values: { number: linkValue } };\n    const tetherProps = {\n        attachment: 'top right',\n        className: 'bcs-AnnotationActivity-deleteConfirmationModal',\n        constraints: [{ to: 'scrollParent', attachment: 'together' }],\n        targetAttachment: 'bottom right',\n    };\n\n    return (\n        <>\n            <SelectableActivityCard\n                className=\"bcs-AnnotationActivity\"\n                data-resin-feature=\"annotations\"\n                data-resin-iscurrent={isCurrentVersion}\n                data-resin-itemid={id}\n                data-resin-target=\"annotationButton\"\n                isDisabled={isCardDisabled}\n                onMouseDown={handleMouseDown}\n                onSelect={handleSelect}\n            >\n                <Media\n                    className={classNames('bcs-AnnotationActivity-media', {\n                        'bcs-is-pending': isPending || error,\n                    })}\n                >\n                    <Media.Figure className=\"bcs-AnnotationActivity-avatar\">\n                        <Avatar getAvatarUrl={getAvatarUrl} user={createdByUser} badgeIcon={<IconAnnotation />} />\n                    </Media.Figure>\n                    <Media.Body>\n                        <div className=\"bcs-AnnotationActivity-headline\">\n                            <UserLink\n                                data-resin-target={ACTIVITY_TARGETS.PROFILE}\n                                getUserProfileUrl={getUserProfileUrl}\n                                id={createdByUser.id}\n                                name={createdByUser.name}\n                            />\n                        </div>\n                        <div className=\"bcs-AnnotationActivity-timestamp\">\n                            <ActivityTimestamp date={createdAtTimestamp} />\n                            {hasVersions && (\n                                <AnnotationActivityLink\n                                    className=\"bcs-AnnotationActivity-link\"\n                                    data-resin-target=\"annotationLink\"\n                                    id={id}\n                                    isDisabled={isFileVersionUnavailable}\n                                    message={activityLinkMessage}\n                                    onClick={handleSelect}\n                                />\n                            )}\n                        </div>\n                        <ActivityStatus status={status} />\n                        {isEditing && currentUser ? (\n                            <CommentForm\n                                className=\"bcs-AnnotationActivity-editor\"\n                                entityId={id}\n                                getAvatarUrl={getAvatarUrl}\n                                getMentionWithQuery={getMentionWithQuery}\n                                isEditing={isEditing}\n                                isOpen={isEditing}\n                                mentionSelectorContacts={mentionSelectorContacts}\n                                onCancel={handleFormCancel}\n                                updateComment={handleFormSubmit}\n                                user={currentUser}\n                                tagged_message={message}\n                            />\n                        ) : (\n                            <ActivityMessage\n                                getUserProfileUrl={getUserProfileUrl}\n                                id={id}\n                                isEdited={isEdited && !isResolved}\n                                tagged_message={message}\n                            />\n                        )}\n                    </Media.Body>\n                </Media>\n                {/* $FlowFixMe */}\n                {error ? <ActivityError {...error} /> : null}\n            </SelectableActivityCard>\n            <TetherComponent {...tetherProps}>\n                {isMenuVisible && (\n                    <AnnotationActivityMenu\n                        canDelete={canDelete}\n                        canEdit={canEdit}\n                        canResolve={canResolve}\n                        className=\"bcs-AnnotationActivity-menu\"\n                        id={id}\n                        isDisabled={isConfirmingDelete}\n                        status={status}\n                        onDelete={handleDelete}\n                        onEdit={handleEdit}\n                        onMenuClose={handleMenuClose}\n                        onMenuOpen={handleMenuOpen}\n                        onStatusChange={handleStatusChange}\n                    />\n                )}\n                {isConfirmingDelete && (\n                    <DeleteConfirmation\n                        data-resin-component={ACTIVITY_TARGETS.ANNOTATION_OPTIONS}\n                        isOpen={isConfirmingDelete}\n                        message={messages.annotationActivityDeletePrompt}\n                        onDeleteCancel={handleDeleteCancel}\n                        onDeleteConfirm={handleDeleteConfirm}\n                    />\n                )}\n            </TetherComponent>\n        </>\n    );\n};\n\nexport default AnnotationActivity;\n"],"file":"AnnotationActivity.js"}