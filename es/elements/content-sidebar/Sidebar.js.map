{"version":3,"sources":["../../../src/elements/content-sidebar/Sidebar.js"],"names":["React","classNames","flow","getProp","noop","uniqueid","withRouter","LoadingIndicator","LocalStore","SidebarNav","SidebarPanels","SidebarUtils","withCurrentUser","withFeatureConsumer","ORIGIN_DETAILS_SIDEBAR","SIDEBAR_VIEW_DETAILS","SIDEBAR_FORCE_KEY","SIDEBAR_FORCE_VALUE_CLOSED","SIDEBAR_FORCE_VALUE_OPEN","BASE_EVENT_NAME","MARK_NAME_JS_LOADING_DETAILS","LoadableDetailsSidebar","getAsyncSidebarContent","Sidebar","props","createRef","pathname","basePath","substring","split","event","file","history","currentVersion","file_version","fileVersionSlug","id","urlPrefix","getUrlPrefix","location","preventDefault","push","state","isDirty","getLocationState","isInitialized","setForcedByLocation","prevProps","fileId","prevFileId","prevLocation","replace","silent","setState","key","locationState","isOpen","undefined","store","setItem","getItem","isForced","shouldRefreshCache","sidebarPanels","current","refresh","isLocationOpen","activitySidebarProps","additionalTabs","className","currentUser","currentUserError","detailsSidebarProps","getPreview","getViewer","hasAdditionalTabs","hasNav","hasVersions","isDefaultOpen","isLoading","metadataEditors","metadataSidebarProps","onAnnotationSelect","onVersionChange","versionsSidebarProps","isForcedSet","isForcedOpen","hasActivity","canHaveActivitySidebar","hasDetails","canHaveDetailsSidebar","hasMetadata","shouldRenderMetadataSidebar","hasSkills","shouldRenderSkillsSidebar","onVersionHistoryClick","handleVersionHistoryClick","styleClassName","detailsSidebar","Component","annotatorState","getAnnotationsMatchPath","getAnnotationsPath","SidebarComponent"],"mappings":"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","sourcesContent":["/**\n * @flow\n * @file Content Sidebar Component\n * @author Box\n */\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport flow from 'lodash/flow';\nimport getProp from 'lodash/get';\nimport noop from 'lodash/noop';\nimport uniqueid from 'lodash/uniqueId';\nimport { withRouter } from '../common/routing';\nimport type { Location, RouterHistory } from 'react-router-dom';\nimport LoadingIndicator from '../../components/loading-indicator/LoadingIndicator';\nimport LocalStore from '../../utils/LocalStore';\nimport SidebarNav from './SidebarNav';\nimport SidebarPanels from './SidebarPanels';\nimport SidebarUtils from './SidebarUtils';\nimport { withCurrentUser } from '../common/current-user';\nimport { withFeatureConsumer } from '../common/feature-checking';\nimport type { FeatureConfig } from '../common/feature-checking';\nimport type { ActivitySidebarProps } from './ActivitySidebar';\nimport type { DetailsSidebarProps } from './DetailsSidebar';\nimport type { MetadataSidebarProps } from './MetadataSidebar';\nimport type { VersionsSidebarProps } from './versions';\nimport type { AdditionalSidebarTab } from './flowTypes';\nimport type { MetadataEditor } from '../../common/types/metadata';\nimport type { BoxItem, User } from '../../common/types/core';\nimport type { Errors } from '../common/flowTypes';\nimport { ORIGIN_DETAILS_SIDEBAR, SIDEBAR_VIEW_DETAILS, } from '../../constants';\n\ntype Props = {\n    activitySidebarProps: ActivitySidebarProps,\n    additionalTabs?: Array<AdditionalSidebarTab>,\n    className: string,\n    currentUser?: User,\n    currentUserError?: Errors,\n    detailsSidebarProps: DetailsSidebarProps,\n    features: FeatureConfig,\n    file: BoxItem,\n    fileId: string,\n    getPreview: Function,\n    getViewer: Function,\n    hasActivityFeed: boolean,\n    hasAdditionalTabs: boolean,\n    hasMetadata: boolean,\n    hasNav: boolean,\n    hasSkills: boolean,\n    hasVersions: boolean,\n    history: RouterHistory,\n    isDefaultOpen?: boolean,\n    isLoading?: boolean,\n    location: Location,\n    metadataEditors?: Array<MetadataEditor>,\n    metadataSidebarProps: MetadataSidebarProps,\n    onAnnotationSelect?: Function,\n    onVersionChange?: Function,\n    onVersionHistoryClick?: Function,\n    versionsSidebarProps: VersionsSidebarProps,\n};\n\ntype State = {\n    isDirty: boolean,\n};\n\nexport const SIDEBAR_FORCE_KEY: 'bcs.force' = 'bcs.force';\nexport const SIDEBAR_FORCE_VALUE_CLOSED: 'closed' = 'closed';\nexport const SIDEBAR_FORCE_VALUE_OPEN: 'open' = 'open';\n\nconst BASE_EVENT_NAME = '_JS_LOADING';\nconst MARK_NAME_JS_LOADING_DETAILS = `${ORIGIN_DETAILS_SIDEBAR}${BASE_EVENT_NAME}`;\n\nconst LoadableDetailsSidebar = SidebarUtils.getAsyncSidebarContent(SIDEBAR_VIEW_DETAILS, MARK_NAME_JS_LOADING_DETAILS);\n\nclass Sidebar extends React.Component<Props, State> {\n    static defaultProps = {\n        annotatorState: {},\n        isDefaultOpen: true,\n        isLoading: false,\n        getAnnotationsMatchPath: noop,\n        getAnnotationsPath: noop,\n    };\n\n    id: string = uniqueid('bcs_');\n\n    props: Props;\n\n    sidebarPanels: { current: null | SidebarPanels } = React.createRef();\n\n    state: State;\n\n    store: LocalStore = new LocalStore();\n\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            isDirty: this.getLocationState('open') || false,\n            isInitialized: false\n        };\n\n        this.setForcedByLocation();\n    }\n\n    componentDidUpdate(prevProps: Props): void {\n        const { fileId, history, location }: Props = this.props;\n        const { fileId: prevFileId, location: prevLocation }: Props = prevProps;\n        const { isDirty }: State = this.state;\n\n        // User navigated to a different file without ever navigating the sidebar\n        if (!isDirty && fileId !== prevFileId && location.pathname !== '/') {\n            history.replace({ pathname: '/', state: { silent: true } });\n        }\n\n        // User navigated or toggled the sidebar intentionally, internally or externally\n        if (location !== prevLocation && !this.getLocationState('silent')) {\n            this.setForcedByLocation();\n            this.setState({ isDirty: true });\n        }\n    }\n\n    componentDidMount(): void {\n        this.setState({ isInitialized: true });\n    }\n\n    getUrlPrefix = (pathname: string) => {\n        const basePath = pathname.substring(1).split('/')[0];\n        return basePath;\n    };\n\n    /**\n     * Handle version history click\n     *\n     * @param {SyntheticEvent} event - The event\n     * @return {void}\n     */\n    handleVersionHistoryClick = (event: SyntheticEvent<>): void => {\n        const { file, history } = this.props;\n        const { file_version: currentVersion } = file;\n        const fileVersionSlug = currentVersion ? `/${currentVersion.id}` : '';\n\n        const urlPrefix = this.getUrlPrefix(history.location.pathname);\n\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n\n        history.push(`/${urlPrefix}/versions${fileVersionSlug}`);\n    };\n\n    /**\n     * Getter for location state properties.\n     *\n     * NOTE: Each location on the history stack has its own optional state object that is wholly separate from\n     * this component's internal state. Values on the location state object can persist even between refreshes\n     * when using certain history contexts, such as BrowserHistory.\n     *\n     * @param key - Optionally get a specific key value from state\n     * @returns {any} - The location state or state key value\n     */\n    getLocationState(key?: string): any {\n        const { location } = this.props;\n        const { state: locationState = {} } = location;\n        return getProp(locationState, key);\n    }\n\n    /**\n     * Getter/setter for sidebar forced state\n     *\n     * @param isOpen - Optionally set the sidebar to open/closed\n     * @returns {string|null} - The sidebar open/closed state\n     */\n    isForced(isOpen?: boolean): ?(typeof SIDEBAR_FORCE_VALUE_CLOSED | typeof SIDEBAR_FORCE_VALUE_OPEN) {\n        if (isOpen !== undefined) {\n            this.store.setItem(SIDEBAR_FORCE_KEY, isOpen ? SIDEBAR_FORCE_VALUE_OPEN : SIDEBAR_FORCE_VALUE_CLOSED);\n        }\n\n        return this.store.getItem(SIDEBAR_FORCE_KEY);\n    }\n\n    /**\n     * Getter for whether the sidebar has been forced open\n     * @returns {boolean} - True if the sidebar has been forced open\n     */\n    isForcedOpen(): boolean {\n        return this.isForced() === SIDEBAR_FORCE_VALUE_OPEN;\n    }\n\n    /**\n     * Getter for whether the sidebar has been forced open/closed previously\n     * @returns {boolean} - True if the sidebar has been forced open/closed previously\n     */\n    isForcedSet(): boolean {\n        return this.isForced() !== null;\n    }\n\n    /**\n     * Refreshes the sidebar panel\n     * @returns {void}\n     */\n    refresh(shouldRefreshCache: boolean = true): void {\n        const { current: sidebarPanels } = this.sidebarPanels;\n\n        if (sidebarPanels) {\n            sidebarPanels.refresh(shouldRefreshCache);\n        }\n    }\n\n    /**\n     * Helper to set the local store open state based on the location open state, if defined\n     */\n    setForcedByLocation(): void {\n        const isLocationOpen: ?boolean = this.getLocationState('open');\n\n        if (isLocationOpen !== undefined && isLocationOpen !== null) {\n            this.isForced(isLocationOpen);\n        }\n    }\n\n    render() {\n        const {\n            activitySidebarProps,\n            additionalTabs,\n            className,\n            currentUser,\n            currentUserError,\n            detailsSidebarProps,\n            file,\n            fileId,\n            getPreview,\n            getViewer,\n            hasAdditionalTabs,\n            hasNav,\n            hasVersions,\n            isDefaultOpen,\n            isLoading,\n            metadataEditors,\n            metadataSidebarProps,\n            onAnnotationSelect,\n            onVersionChange,\n            versionsSidebarProps,\n        }: Props = this.props;\n        const isOpen = this.isForcedSet() ? this.isForcedOpen() : !!isDefaultOpen;\n        const hasActivity = SidebarUtils.canHaveActivitySidebar(this.props);\n        const hasDetails = SidebarUtils.canHaveDetailsSidebar(this.props);\n        const hasMetadata = SidebarUtils.shouldRenderMetadataSidebar(this.props, metadataEditors);\n        const hasSkills = SidebarUtils.shouldRenderSkillsSidebar(this.props, file);\n        const onVersionHistoryClick = hasVersions ? this.handleVersionHistoryClick : this.props.onVersionHistoryClick;\n        const styleClassName = classNames('be bcs', className, {\n            'bcs-is-open': isOpen,\n        });\n\n        return (\n            <aside id={this.id} className={styleClassName} data-testid=\"preview-sidebar\">\n                {isLoading ? (\n                    <div className=\"bcs-loading\">\n                        <LoadingIndicator />\n                    </div>\n                ) : (\n                    <>\n                        {/* {hasNav && (\n                            <SidebarNav\n                                additionalTabs={additionalTabs}\n                                elementId={this.id}\n                                fileId={fileId}\n                                hasActivity={hasActivity}\n                                hasAdditionalTabs={hasAdditionalTabs}\n                                hasDetails={hasDetails}\n                                hasMetadata={hasMetadata}\n                                hasSkills={hasSkills}\n                                isOpen={isOpen}\n                            />\n                        )} */}\n                        {/* <SidebarPanels\n                            activitySidebarProps={activitySidebarProps}\n                            currentUser={currentUser}\n                            currentUserError={currentUserError}\n                            elementId={this.id}\n                            detailsSidebarProps={detailsSidebarProps}\n                            file={file}\n                            fileId={fileId}\n                            getPreview={getPreview}\n                            getViewer={getViewer}\n                            hasActivity={hasActivity}\n                            hasDetails={hasDetails}\n                            hasMetadata={hasMetadata}\n                            hasSkills={hasSkills}\n                            hasVersions={hasVersions}\n                            isOpen={isOpen}\n                            key={file.id}\n                            metadataSidebarProps={metadataSidebarProps}\n                            onAnnotationSelect={onAnnotationSelect}\n                            onVersionChange={onVersionChange}\n                            onVersionHistoryClick={onVersionHistoryClick}\n                            ref={this.sidebarPanels}\n                            versionsSidebarProps={versionsSidebarProps}\n                        /> */}\n                        <LoadableDetailsSidebar\n                            elementId={this.id}\n                            fileId={fileId}\n                            hasSidebarInitialized={this.state.isInitialized}\n                            key={fileId}\n                            hasVersions={hasVersions}\n                            onVersionHistoryClick={onVersionHistoryClick}\n                            ref={this.detailsSidebar}\n                            startMarkName={MARK_NAME_JS_LOADING_DETAILS}\n                            {...detailsSidebarProps}\n                        />\n                    </>\n                )}\n            </aside>\n        );\n    }\n}\n\nexport { Sidebar as SidebarComponent };\nexport default flow([withCurrentUser, withFeatureConsumer, withRouter])(Sidebar);\n"],"file":"Sidebar.js"}