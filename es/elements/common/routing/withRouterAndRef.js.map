{"version":3,"sources":["../../../../src/elements/common/routing/withRouterAndRef.js"],"names":["React","matchPath","useLocation","useParams","useHistory","withRouterAndRef","Wrapped","WithRouterAndRef","forwardRef","props","ref","history","location","params","match","path","pathname","name","displayName"],"mappings":";;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,SAAjC,QAAkD,kBAAlD;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CAEA;AACA;;AACA,eAAe,SAASC,gBAAT,CAA0BC,OAA1B,EAA6D;AACxE,MAAMC,gBAAgB,GAAGP,KAAK,CAACQ,UAAN,CAAyC,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC9E,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,MAAM,GAAGV,SAAS,EAAxB;AACA,QAAMW,KAAK,GAAGb,SAAS,CAAC;AAAEc,MAAAA,IAAI,EAAEH,QAAQ,CAACI;AAAjB,KAAD,EAA8BJ,QAAQ,CAACI,QAAvC,CAAvB;AAEA,WAAO,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAEN,GAAd;AAAmB,MAAA,OAAO,EAAEC,OAA5B;AAAqC,MAAA,KAAK,EAAEG,KAA5C;AAAmD,MAAA,MAAM,EAAED,MAA3D;AAAmE,MAAA,QAAQ,EAAED;AAA7E,OAA2FH,KAA3F,EAAP;AACH,GAPwB,CAAzB;AAQA,MAAMQ,IAAI,GAAGX,OAAO,CAACY,WAAR,IAAuBZ,OAAO,CAACW,IAA/B,IAAuC,WAApD;AACAV,EAAAA,gBAAgB,CAACW,WAAjB,8BAAmDD,IAAnD;AACA,SAAOV,gBAAP;AACH","sourcesContent":["// @flow\nimport * as React from 'react';\nimport { matchPath, useLocation, useParams } from 'react-router-dom';\nimport useHistory from './useHistory';\n\n// Basically a workaround for the fact that react-router's withRouter cannot forward ref's through\n// functional components. Use this instead to gain the benefits of withRouter but also ref forwarding\nexport default function withRouterAndRef(Wrapped: React.ComponentType<any>) {\n    const WithRouterAndRef = React.forwardRef<Object, React.Ref<any>>((props, ref) => {\n        const history = useHistory();\n        const location = useLocation();\n        const params = useParams();\n        const match = matchPath({ path: location.pathname }, location.pathname);\n\n        return <Wrapped ref={ref} history={history} match={match} params={params} location={location} {...props} />;\n    });\n    const name = Wrapped.displayName || Wrapped.name || 'Component';\n    WithRouterAndRef.displayName = `withRouterAndRef(${name})`;\n    return WithRouterAndRef;\n}\n"],"file":"withRouterAndRef.js"}