{"version":3,"sources":["../../../../src/elements/common/nav-button/NavButton.js"],"names":["classNames","React","useLocation","useNavigate","useMatch","PlainButton","isLeftClick","NavButton","forwardRef","props","ref","activeClassName","children","className","component","Component","exact","isActive","onClick","replace","strict","to","rest","path","pathname","navigate","location","match","isExactMatch","isActiveValue","handleClick","event","defaultPrevented","console","log","state"],"mappings":";;;;;;;;;;AAAA;;;;;AAMA,OAAOA,UAAP,MAAuB,YAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAEA,SAASC,WAAT,EAAsBC,WAAtB,EAAmCC,QAAnC,QAAmD,kBAAnD;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAeA,IAAMC,SAAS,GAAGN,KAAK,CAACO,UAAN,CAAwC,UAACC,KAAD,EAAeC,GAAf,EAAuC;AAAA,8BAazFD,KAbyF,CAEzFE,eAFyF;AAAA,MAEzFA,eAFyF,sCAEvE,eAFuE;AAAA,MAGzFC,QAHyF,GAazFH,KAbyF,CAGzFG,QAHyF;AAAA,yBAazFH,KAbyF,CAIzFI,SAJyF;AAAA,MAIzFA,SAJyF,iCAI7E,eAJ6E;AAAA,yBAazFJ,KAbyF,CAKzFK,SALyF;AAAA,MAK9EC,SAL8E,iCAKlEV,WALkE;AAAA,MAMzFW,KANyF,GAazFP,KAbyF,CAMzFO,KANyF;AAAA,MAOzFC,QAPyF,GAazFR,KAbyF,CAOzFQ,QAPyF;AAAA,MAQzFC,OARyF,GAazFT,KAbyF,CAQzFS,OARyF;AAAA,MASzFC,OATyF,GAazFV,KAbyF,CASzFU,OATyF;AAAA,MAUzFC,MAVyF,GAazFX,KAbyF,CAUzFW,MAVyF;AAAA,MAWzFC,EAXyF,GAazFZ,KAbyF,CAWzFY,EAXyF;AAAA,MAYtFC,IAZsF,4BAazFb,KAbyF;;AAe7F,MAAMc,IAAI,GAAG,QAAOF,EAAP,MAAc,QAAd,GAAyBA,EAAE,CAACG,QAA5B,GAAuCH,EAApD;AACA,MAAMI,QAAQ,GAAGtB,WAAW,EAA5B;AACA,MAAMuB,QAAQ,GAAGxB,WAAW,EAA5B;AACA,MAAMyB,KAAK,GAAGvB,QAAQ,CAACmB,IAAD,CAAtB;AACA,MAAMK,YAAY,GAAG,CAACZ,KAAD,IAAUU,QAAQ,CAACF,QAAT,KAAsBD,IAArD;AAEA,MAAMM,aAAa,GAAGZ,QAAQ,GAAGA,QAAQ,CAACU,KAAD,EAAQD,QAAR,CAAX,GAA+BC,KAAK,IAAIC,YAAtE;;AAEA,MAAME,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AACzB,QAAIb,OAAJ,EAAa;AACTA,MAAAA,OAAO,CAACa,KAAD,CAAP;AACH;;AAED,QAAI,CAACA,KAAK,CAACC,gBAAP,IAA2B1B,WAAW,CAACyB,KAAD,CAA1C,EAAmD;AAC/CE,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBb,EAAzB;AACAI,MAAAA,QAAQ,CAAC,QAAOJ,EAAP,MAAc,QAAd,GAAyBA,EAAE,CAACG,QAA5B,GAAuCH,EAAxC,EAA4C;AAChDc,QAAAA,KAAK,EAAE,QAAOd,EAAP,MAAc,QAAd,GAAyBA,EAAE,CAACc,KAA5B,GAAoC,EADK;AAEhDhB,QAAAA,OAAO,EAAPA;AAFgD,OAA5C,CAAR;AAIH;AACJ,GAZD;;AAcA,SACI,oBAAC,SAAD;AACI,IAAA,SAAS,EAAEnB,UAAU,CAACa,SAAD,sBAAeF,eAAf,EAAiCkB,aAAjC,EADzB;AAEI,IAAA,OAAO,EAAEC,WAFb;AAGI,IAAA,GAAG,EAAEpB;AAHT,KAIQY,IAJR,GAMKV,QANL,CADJ;AAUH,CA/CiB,CAAlB;AAiDA,eAAeL,SAAf","sourcesContent":["/**\n * @flow\n * @file Nav Button component intended to mimic React Router's NavLink component for non-anchor elements\n * @author Box\n */\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport type { Location, Match } from 'react-router-dom';\nimport { useLocation, useNavigate, useMatch } from 'react-router-dom';\nimport PlainButton from '../../../components/plain-button';\nimport { isLeftClick } from '../../../utils/dom';\n\ntype Props = {\n    activeClassName?: string,\n    children: React.Node,\n    className?: string,\n    component?: React.ComponentType<any>,\n    exact?: boolean,\n    isActive?: (match: Match, location: Location) => ?boolean,\n    onClick?: (event: SyntheticEvent<>) => void,\n    replace?: boolean,\n    strict?: boolean,\n    to: string | Location,\n};\n\nconst NavButton = React.forwardRef<Props, React.Ref<any>>((props: Props, ref: React.Ref<any>) => {\n    const {\n        activeClassName = 'bdl-is-active',\n        children,\n        className = 'bdl-NavButton',\n        component: Component = PlainButton,\n        exact,\n        isActive,\n        onClick,\n        replace,\n        strict,\n        to,\n        ...rest\n    } = props;\n\n    const path = typeof to === 'object' ? to.pathname : to;\n    const navigate = useNavigate();\n    const location = useLocation();\n    const match = useMatch(path);\n    const isExactMatch = !exact || location.pathname === path;\n\n    const isActiveValue = isActive ? isActive(match, location) : match && isExactMatch;\n\n    const handleClick = event => {\n        if (onClick) {\n            onClick(event);\n        }\n\n        if (!event.defaultPrevented && isLeftClick(event)) {\n            console.log('navbutton', to)\n            navigate(typeof to === 'object' ? to.pathname : to, {\n                state: typeof to === 'object' ? to.state : {},\n                replace,\n            });\n        }\n    };\n\n    return (\n        <Component\n            className={classNames(className, { [activeClassName]: isActiveValue })}\n            onClick={handleClick}\n            ref={ref}\n            {...rest}\n        >\n            {children}\n        </Component>\n    );\n});\n\nexport default NavButton;\n"],"file":"NavButton.js"}